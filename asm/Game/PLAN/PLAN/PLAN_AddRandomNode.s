.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel PLAN_AddRandomNode
/* 87F04 80097704 B0FFBD27 */  addiu      $sp, $sp, -0x50
/* 87F08 80097708 4400B5AF */  sw         $s5, 0x44($sp)
/* 87F0C 8009770C 21A88000 */  addu       $s5, $a0, $zero
/* 87F10 80097710 3000B0AF */  sw         $s0, 0x30($sp)
/* 87F14 80097714 2180A000 */  addu       $s0, $a1, $zero
/* 87F18 80097718 4000B4AF */  sw         $s4, 0x40($sp)
/* 87F1C 8009771C 21A00000 */  addu       $s4, $zero, $zero
/* 87F20 80097720 3800B2AF */  sw         $s2, 0x38($sp)
/* 87F24 80097724 21908002 */  addu       $s2, $s4, $zero
/* 87F28 80097728 3400B1AF */  sw         $s1, 0x34($sp)
/* 87F2C 8009772C 2000B127 */  addiu      $s1, $sp, 0x20
/* 87F30 80097730 3C00B3AF */  sw         $s3, 0x3C($sp)
/* 87F34 80097734 7605133C */  lui        $s3, (0x57619F1 >> 16)
/* 87F38 80097738 F1197336 */  ori        $s3, $s3, (0x57619F1 & 0xFFFF)
/* 87F3C 8009773C 4800BFAF */  sw         $ra, 0x48($sp)
.L80097740:
/* 87F40 80097740 00000296 */  lhu        $v0, 0x0($s0)
/* 87F44 80097744 02000396 */  lhu        $v1, 0x2($s0)
/* 87F48 80097748 04000496 */  lhu        $a0, 0x4($s0)
/* 87F4C 8009774C 2000A2A7 */  sh         $v0, 0x20($sp)
/* 87F50 80097750 020023A6 */  sh         $v1, 0x2($s1)
/* 87F54 80097754 3AF2020C */  jal        rand
/* 87F58 80097758 040024A6 */   sh        $a0, 0x4($s1)
/* 87F5C 8009775C 18005300 */  mult       $v0, $s3
/* 87F60 80097760 2000A597 */  lhu        $a1, 0x20($sp)
/* 87F64 80097764 C31F0200 */  sra        $v1, $v0, 31
/* 87F68 80097768 20D1A524 */  addiu      $a1, $a1, -0x2EE0
/* 87F6C 8009776C 10400000 */  mfhi       $t0
/* 87F70 80097770 43220800 */  sra        $a0, $t0, 9
/* 87F74 80097774 23208300 */  subu       $a0, $a0, $v1
/* 87F78 80097778 40180400 */  sll        $v1, $a0, 1
/* 87F7C 8009777C 21186400 */  addu       $v1, $v1, $a0
/* 87F80 80097780 00190300 */  sll        $v1, $v1, 4
/* 87F84 80097784 23186400 */  subu       $v1, $v1, $a0
/* 87F88 80097788 C0180300 */  sll        $v1, $v1, 3
/* 87F8C 8009778C 23186400 */  subu       $v1, $v1, $a0
/* 87F90 80097790 80190300 */  sll        $v1, $v1, 6
/* 87F94 80097794 23104300 */  subu       $v0, $v0, $v1
/* 87F98 80097798 2128A200 */  addu       $a1, $a1, $v0
/* 87F9C 8009779C 3AF2020C */  jal        rand
/* 87FA0 800977A0 2000A5A7 */   sh        $a1, 0x20($sp)
/* 87FA4 800977A4 18005300 */  mult       $v0, $s3
/* 87FA8 800977A8 C31F0200 */  sra        $v1, $v0, 31
/* 87FAC 800977AC 2200A597 */  lhu        $a1, 0x22($sp)
/* 87FB0 800977B0 2400A687 */  lh         $a2, 0x24($sp)
/* 87FB4 800977B4 20D1A524 */  addiu      $a1, $a1, -0x2EE0
/* 87FB8 800977B8 10400000 */  mfhi       $t0
/* 87FBC 800977BC 43220800 */  sra        $a0, $t0, 9
/* 87FC0 800977C0 23208300 */  subu       $a0, $a0, $v1
/* 87FC4 800977C4 40180400 */  sll        $v1, $a0, 1
/* 87FC8 800977C8 21186400 */  addu       $v1, $v1, $a0
/* 87FCC 800977CC 00190300 */  sll        $v1, $v1, 4
/* 87FD0 800977D0 23186400 */  subu       $v1, $v1, $a0
/* 87FD4 800977D4 C0180300 */  sll        $v1, $v1, 3
/* 87FD8 800977D8 23186400 */  subu       $v1, $v1, $a0
/* 87FDC 800977DC 80190300 */  sll        $v1, $v1, 6
/* 87FE0 800977E0 23104300 */  subu       $v0, $v0, $v1
/* 87FE4 800977E4 2128A200 */  addu       $a1, $a1, $v0
/* 87FE8 800977E8 2200A5A7 */  sh         $a1, 0x22($sp)
/* 87FEC 800977EC 002C0500 */  sll        $a1, $a1, 16
/* 87FF0 800977F0 032C0500 */  sra        $a1, $a1, 16
/* 87FF4 800977F4 00000286 */  lh         $v0, 0x0($s0)
/* 87FF8 800977F8 2000A487 */  lh         $a0, 0x20($sp)
/* 87FFC 800977FC 04000386 */  lh         $v1, 0x4($s0)
/* 88000 80097800 23204400 */  subu       $a0, $v0, $a0
/* 88004 80097804 02000286 */  lh         $v0, 0x2($s0)
/* 88008 80097808 23306600 */  subu       $a2, $v1, $a2
/* 8800C 8009780C B7E6000C */  jal        MATH3D_LengthXYZ
/* 88010 80097810 23284500 */   subu      $a1, $v0, $a1
/* 88014 80097814 E02E4228 */  slti       $v0, $v0, 0x2EE0
/* 88018 80097818 09004010 */  beqz       $v0, .L80097840
/* 8801C 8009781C 21202002 */   addu      $a0, $s1, $zero
/* 88020 80097820 2128A002 */  addu       $a1, $s5, $zero
/* 88024 80097824 B25C020C */  jal        PLAN_CalcMinDistFromExistingNodes
/* 88028 80097828 21300000 */   addu      $a2, $zero, $zero
/* 8802C 8009782C E9034228 */  slti       $v0, $v0, 0x3E9
/* 88030 80097830 03004014 */  bnez       $v0, .L80097840
/* 88034 80097834 00000000 */   nop
/* 88038 80097838 145E0208 */  j          .L80097850
/* 8803C 8009783C 01001424 */   addiu     $s4, $zero, 0x1
.L80097840:
/* 88040 80097840 01005226 */  addiu      $s2, $s2, 0x1
/* 88044 80097844 0500422A */  slti       $v0, $s2, 0x5
/* 88048 80097848 BDFF4014 */  bnez       $v0, .L80097740
/* 8804C 8009784C 00000000 */   nop
.L80097850:
/* 88050 80097850 01000224 */  addiu      $v0, $zero, 0x1
/* 88054 80097854 25008216 */  bne        $s4, $v0, .L800978EC
/* 88058 80097858 1800A427 */   addiu     $a0, $sp, 0x18
/* 8805C 8009785C 21280000 */  addu       $a1, $zero, $zero
/* 88060 80097860 00010624 */  addiu      $a2, $zero, 0x100
/* 88064 80097864 30F80724 */  addiu      $a3, $zero, -0x7D0
/* 88068 80097868 1000A0AF */  sw         $zero, 0x10($sp)
/* 8806C 8009786C 5463020C */  jal        PLANCOLL_FindTerrainHitFinal
/* 88070 80097870 1400A0AF */   sw        $zero, 0x14($sp)
/* 88074 80097874 09004014 */  bnez       $v0, .L8009789C
/* 88078 80097878 1800A427 */   addiu     $a0, $sp, 0x18
/* 8807C 8009787C 21280000 */  addu       $a1, $zero, $zero
/* 88080 80097880 D0070624 */  addiu      $a2, $zero, 0x7D0
/* 88084 80097884 2138A000 */  addu       $a3, $a1, $zero
/* 88088 80097888 1000A0AF */  sw         $zero, 0x10($sp)
/* 8808C 8009788C 5463020C */  jal        PLANCOLL_FindTerrainHitFinal
/* 88090 80097890 1400A0AF */   sw        $zero, 0x14($sp)
/* 88094 80097894 15004010 */  beqz       $v0, .L800978EC
/* 88098 80097898 00000000 */   nop
.L8009789C:
/* 8809C 8009789C 1800A48F */  lw         $a0, 0x18($sp)
/* 880A0 800978A0 1C66010C */  jal        STREAM_GetLevelWithID
/* 880A4 800978A4 00000000 */   nop
/* 880A8 800978A8 1C00A38F */  lw         $v1, 0x1C($sp)
/* 880AC 800978AC 0000428C */  lw         $v0, 0x0($v0)
/* 880B0 800978B0 08006484 */  lh         $a0, 0x8($v1)
/* 880B4 800978B4 2400458C */  lw         $a1, 0x24($v0)
/* 880B8 800978B8 C27A000C */  jal        COLLIDE_GetNormal
/* 880BC 800978BC 2800A627 */   addiu     $a2, $sp, 0x28
/* 880C0 800978C0 2C00A287 */  lh         $v0, 0x2C($sp)
/* 880C4 800978C4 00000000 */  nop
/* 880C8 800978C8 01084228 */  slti       $v0, $v0, 0x801
/* 880CC 800978CC 07004014 */  bnez       $v0, .L800978EC
/* 880D0 800978D0 2000A427 */   addiu     $a0, $sp, 0x20
/* 880D4 800978D4 2128A002 */  addu       $a1, $s5, $zero
/* 880D8 800978D8 21300000 */  addu       $a2, $zero, $zero
/* 880DC 800978DC 1800A28F */  lw         $v0, 0x18($sp)
/* 880E0 800978E0 2138C000 */  addu       $a3, $a2, $zero
/* 880E4 800978E4 AE66020C */  jal        PLANPOOL_AddNodeToPool
/* 880E8 800978E8 1000A2AF */   sw        $v0, 0x10($sp)
.L800978EC:
/* 880EC 800978EC 4800BF8F */  lw         $ra, 0x48($sp)
/* 880F0 800978F0 4400B58F */  lw         $s5, 0x44($sp)
/* 880F4 800978F4 4000B48F */  lw         $s4, 0x40($sp)
/* 880F8 800978F8 3C00B38F */  lw         $s3, 0x3C($sp)
/* 880FC 800978FC 3800B28F */  lw         $s2, 0x38($sp)
/* 88100 80097900 3400B18F */  lw         $s1, 0x34($sp)
/* 88104 80097904 3000B08F */  lw         $s0, 0x30($sp)
/* 88108 80097908 0800E003 */  jr         $ra
/* 8810C 8009790C 5000BD27 */   addiu     $sp, $sp, 0x50
.size PLAN_AddRandomNode, . - PLAN_AddRandomNode
