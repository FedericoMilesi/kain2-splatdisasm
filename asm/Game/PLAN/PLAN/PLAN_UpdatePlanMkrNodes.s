.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel PLAN_UpdatePlanMkrNodes
/* 87B64 80097364 B8FFBD27 */  addiu      $sp, $sp, -0x48
/* 87B68 80097368 4000BEAF */  sw         $fp, 0x40($sp)
/* 87B6C 8009736C 21F0A000 */  addu       $fp, $a1, $zero
/* 87B70 80097370 3C00B7AF */  sw         $s7, 0x3C($sp)
/* 87B74 80097374 3CC79727 */  addiu      $s7, $gp, %gp_rel(StreamTracker)
/* 87B78 80097378 3800B6AF */  sw         $s6, 0x38($sp)
/* 87B7C 8009737C 44C79627 */  addiu      $s6, $gp, %gp_rel(StreamTracker + 0x8)
/* 87B80 80097380 4400BFAF */  sw         $ra, 0x44($sp)
/* 87B84 80097384 3400B5AF */  sw         $s5, 0x34($sp)
/* 87B88 80097388 3000B4AF */  sw         $s4, 0x30($sp)
/* 87B8C 8009738C 2C00B3AF */  sw         $s3, 0x2C($sp)
/* 87B90 80097390 2800B2AF */  sw         $s2, 0x28($sp)
/* 87B94 80097394 2400B1AF */  sw         $s1, 0x24($sp)
/* 87B98 80097398 2000B0AF */  sw         $s0, 0x20($sp)
/* 87B9C 8009739C 4800A4AF */  sw         $a0, 0x48($sp)
/* 87BA0 800973A0 1800A0AF */  sw         $zero, 0x18($sp)
.L800973A4:
/* 87BA4 800973A4 FCFFC386 */  lh         $v1, -0x4($s6)
/* 87BA8 800973A8 02000224 */  addiu      $v0, $zero, 0x2
/* 87BAC 800973AC 44006214 */  bne        $v1, $v0, .L800974C0
/* 87BB0 800973B0 00000000 */   nop
/* 87BB4 800973B4 0000C48E */  lw         $a0, 0x0($s6)
/* 87BB8 800973B8 B841010C */  jal        MEMPACK_MemoryValidFunc
/* 87BBC 800973BC 00000000 */   nop
/* 87BC0 800973C0 3F004010 */  beqz       $v0, .L800974C0
/* 87BC4 800973C4 00000000 */   nop
/* 87BC8 800973C8 0000C28E */  lw         $v0, 0x0($s6)
/* 87BCC 800973CC 0000E88E */  lw         $t0, 0x0($s7)
/* 87BD0 800973D0 E400528C */  lw         $s2, 0xE4($v0)
/* 87BD4 800973D4 E000558C */  lw         $s5, 0xE0($v0)
/* 87BD8 800973D8 00000000 */  nop
/* 87BDC 800973DC 3800A012 */  beqz       $s5, .L800974C0
/* 87BE0 800973E0 1C00A8AF */   sw        $t0, 0x1C($sp)
/* 87BE4 800973E4 3600A01A */  blez       $s5, .L800974C0
/* 87BE8 800973E8 21A00000 */   addu      $s4, $zero, $zero
/* 87BEC 800973EC 06005126 */  addiu      $s1, $s2, 0x6
.L800973F0:
/* 87BF0 800973F0 00004386 */  lh         $v1, 0x0($s2)
/* 87BF4 800973F4 0000C487 */  lh         $a0, 0x0($fp)
/* 87BF8 800973F8 FCFF2286 */  lh         $v0, -0x4($s1)
/* 87BFC 800973FC 0200C587 */  lh         $a1, 0x2($fp)
/* 87C00 80097400 23206400 */  subu       $a0, $v1, $a0
/* 87C04 80097404 EBE6000C */  jal        MATH3D_LengthXY
/* 87C08 80097408 23284500 */   subu      $a1, $v0, $a1
/* 87C0C 8009740C 0400C387 */  lh         $v1, 0x4($fp)
/* 87C10 80097410 FEFF2486 */  lh         $a0, -0x2($s1)
/* 87C14 80097414 401F4228 */  slti       $v0, $v0, 0x1F40
/* 87C18 80097418 23186400 */  subu       $v1, $v1, $a0
/* 87C1C 8009741C 02006104 */  bgez       $v1, .L80097428
/* 87C20 80097420 00000000 */   nop
/* 87C24 80097424 23180300 */  negu       $v1, $v1
.L80097428:
/* 87C28 80097428 20004010 */  beqz       $v0, .L800974AC
/* 87C2C 8009742C A00F6228 */   slti      $v0, $v1, 0xFA0
/* 87C30 80097430 1E004010 */  beqz       $v0, .L800974AC
/* 87C34 80097434 FFFF023C */   lui       $v0, (0xFFFF0FFF >> 16)
/* 87C38 80097438 FF0F4234 */  ori        $v0, $v0, (0xFFFF0FFF & 0xFFFF)
/* 87C3C 8009743C 00002386 */  lh         $v1, 0x0($s1)
/* 87C40 80097440 00002496 */  lhu        $a0, 0x0($s1)
/* 87C44 80097444 24986200 */  and        $s3, $v1, $v0
/* 87C48 80097448 00108230 */  andi       $v0, $a0, 0x1000
/* 87C4C 8009744C 17004014 */  bnez       $v0, .L800974AC
/* 87C50 80097450 00806230 */   andi      $v0, $v1, 0x8000
/* 87C54 80097454 08004014 */  bnez       $v0, .L80097478
/* 87C58 80097458 0C001024 */   addiu     $s0, $zero, 0xC
/* 87C5C 8009745C 00408230 */  andi       $v0, $a0, 0x4000
/* 87C60 80097460 05004014 */  bnez       $v0, .L80097478
/* 87C64 80097464 1C001024 */   addiu     $s0, $zero, 0x1C
/* 87C68 80097468 00208230 */  andi       $v0, $a0, 0x2000
/* 87C6C 8009746C 02004010 */  beqz       $v0, .L80097478
/* 87C70 80097470 04001024 */   addiu     $s0, $zero, 0x4
/* 87C74 80097474 14001024 */  addiu      $s0, $zero, 0x14
.L80097478:
/* 87C78 80097478 21280002 */  addu       $a1, $s0, $zero
/* 87C7C 8009747C 4800A48F */  lw         $a0, 0x48($sp)
/* 87C80 80097480 1C00A78F */  lw         $a3, 0x1C($sp)
/* 87C84 80097484 DD64020C */  jal        PLANPOOL_GetNodeWithID
/* 87C88 80097488 21306002 */   addu      $a2, $s3, $zero
/* 87C8C 8009748C 07004014 */  bnez       $v0, .L800974AC
/* 87C90 80097490 21204002 */   addu      $a0, $s2, $zero
/* 87C94 80097494 21300002 */  addu       $a2, $s0, $zero
/* 87C98 80097498 4800A58F */  lw         $a1, 0x48($sp)
/* 87C9C 8009749C 0000E28E */  lw         $v0, 0x0($s7)
/* 87CA0 800974A0 FF0F6732 */  andi       $a3, $s3, 0xFFF
/* 87CA4 800974A4 AE66020C */  jal        PLANPOOL_AddNodeToPool
/* 87CA8 800974A8 1000A2AF */   sw        $v0, 0x10($sp)
.L800974AC:
/* 87CAC 800974AC 01009426 */  addiu      $s4, $s4, 0x1
/* 87CB0 800974B0 08003126 */  addiu      $s1, $s1, 0x8
/* 87CB4 800974B4 2A109502 */  slt        $v0, $s4, $s5
/* 87CB8 800974B8 CDFF4014 */  bnez       $v0, .L800973F0
/* 87CBC 800974BC 08005226 */   addiu     $s2, $s2, 0x8
.L800974C0:
/* 87CC0 800974C0 4000D626 */  addiu      $s6, $s6, 0x40
/* 87CC4 800974C4 1800A88F */  lw         $t0, 0x18($sp)
/* 87CC8 800974C8 4000F726 */  addiu      $s7, $s7, 0x40
/* 87CCC 800974CC 01000825 */  addiu      $t0, $t0, 0x1
/* 87CD0 800974D0 10000229 */  slti       $v0, $t0, 0x10
/* 87CD4 800974D4 B3FF4014 */  bnez       $v0, .L800973A4
/* 87CD8 800974D8 1800A8AF */   sw        $t0, 0x18($sp)
/* 87CDC 800974DC ECF5828F */  lw         $v0, %gp_rel(poolManagementData)($gp)
/* 87CE0 800974E0 00000000 */  nop
/* 87CE4 800974E4 01004290 */  lbu        $v0, 0x1($v0)
/* 87CE8 800974E8 00000000 */  nop
/* 87CEC 800974EC 24004010 */  beqz       $v0, .L80097580
/* 87CF0 800974F0 21A00000 */   addu      $s4, $zero, $zero
/* 87CF4 800974F4 4800B08F */  lw         $s0, 0x48($sp)
.L800974F8:
/* 87CF8 800974F8 00000000 */  nop
/* 87CFC 800974FC 14000296 */  lhu        $v0, 0x14($s0)
/* 87D00 80097500 04000324 */  addiu      $v1, $zero, 0x4
/* 87D04 80097504 07004230 */  andi       $v0, $v0, 0x7
/* 87D08 80097508 16004314 */  bne        $v0, $v1, .L80097564
/* 87D0C 8009750C 00000000 */   nop
/* 87D10 80097510 00000386 */  lh         $v1, 0x0($s0)
/* 87D14 80097514 0000C487 */  lh         $a0, 0x0($fp)
/* 87D18 80097518 02000286 */  lh         $v0, 0x2($s0)
/* 87D1C 8009751C 0200C587 */  lh         $a1, 0x2($fp)
/* 87D20 80097520 23206400 */  subu       $a0, $v1, $a0
/* 87D24 80097524 EBE6000C */  jal        MATH3D_LengthXY
/* 87D28 80097528 23284500 */   subu      $a1, $v0, $a1
/* 87D2C 8009752C 0400C387 */  lh         $v1, 0x4($fp)
/* 87D30 80097530 04000486 */  lh         $a0, 0x4($s0)
/* 87D34 80097534 11274228 */  slti       $v0, $v0, 0x2711
/* 87D38 80097538 23186400 */  subu       $v1, $v1, $a0
/* 87D3C 8009753C 02006104 */  bgez       $v1, .L80097548
/* 87D40 80097540 00000000 */   nop
/* 87D44 80097544 23180300 */  negu       $v1, $v1
.L80097548:
/* 87D48 80097548 03004010 */  beqz       $v0, .L80097558
/* 87D4C 8009754C 89136228 */   slti      $v0, $v1, 0x1389
/* 87D50 80097550 04004014 */  bnez       $v0, .L80097564
/* 87D54 80097554 00000000 */   nop
.L80097558:
/* 87D58 80097558 4800A58F */  lw         $a1, 0x48($sp)
/* 87D5C 8009755C EB66020C */  jal        PLANPOOL_DeleteNodeFromPool
/* 87D60 80097560 21200002 */   addu      $a0, $s0, $zero
.L80097564:
/* 87D64 80097564 ECF5828F */  lw         $v0, %gp_rel(poolManagementData)($gp)
/* 87D68 80097568 00000000 */  nop
/* 87D6C 8009756C 01004290 */  lbu        $v0, 0x1($v0)
/* 87D70 80097570 01009426 */  addiu      $s4, $s4, 0x1
/* 87D74 80097574 2A108202 */  slt        $v0, $s4, $v0
/* 87D78 80097578 DFFF4014 */  bnez       $v0, .L800974F8
/* 87D7C 8009757C 1C001026 */   addiu     $s0, $s0, 0x1C
.L80097580:
/* 87D80 80097580 4400BF8F */  lw         $ra, 0x44($sp)
/* 87D84 80097584 4000BE8F */  lw         $fp, 0x40($sp)
/* 87D88 80097588 3C00B78F */  lw         $s7, 0x3C($sp)
/* 87D8C 8009758C 3800B68F */  lw         $s6, 0x38($sp)
/* 87D90 80097590 3400B58F */  lw         $s5, 0x34($sp)
/* 87D94 80097594 3000B48F */  lw         $s4, 0x30($sp)
/* 87D98 80097598 2C00B38F */  lw         $s3, 0x2C($sp)
/* 87D9C 8009759C 2800B28F */  lw         $s2, 0x28($sp)
/* 87DA0 800975A0 2400B18F */  lw         $s1, 0x24($sp)
/* 87DA4 800975A4 2000B08F */  lw         $s0, 0x20($sp)
/* 87DA8 800975A8 0800E003 */  jr         $ra
/* 87DAC 800975AC 4800BD27 */   addiu     $sp, $sp, 0x48
.size PLAN_UpdatePlanMkrNodes, . - PLAN_UpdatePlanMkrNodes
