.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel PLANAPI_FindClosestNodePositionInUnit
/* 8915C 8009895C C8FFBD27 */  addiu      $sp, $sp, -0x38
/* 89160 80098960 1C00B3AF */  sw         $s3, 0x1C($sp)
/* 89164 80098964 2198A000 */  addu       $s3, $a1, $zero
/* 89168 80098968 3000BEAF */  sw         $fp, 0x30($sp)
/* 8916C 8009896C 21F0C000 */  addu       $fp, $a2, $zero
/* 89170 80098970 2000B4AF */  sw         $s4, 0x20($sp)
/* 89174 80098974 21A00000 */  addu       $s4, $zero, $zero
/* 89178 80098978 2400B5AF */  sw         $s5, 0x24($sp)
/* 8917C 8009897C FF7F1524 */  addiu      $s5, $zero, 0x7FFF
/* 89180 80098980 2800B6AF */  sw         $s6, 0x28($sp)
/* 89184 80098984 3400BFAF */  sw         $ra, 0x34($sp)
/* 89188 80098988 2C00B7AF */  sw         $s7, 0x2C($sp)
/* 8918C 8009898C 1800B2AF */  sw         $s2, 0x18($sp)
/* 89190 80098990 1400B1AF */  sw         $s1, 0x14($sp)
/* 89194 80098994 1000B0AF */  sw         $s0, 0x10($sp)
/* 89198 80098998 4400A7AF */  sw         $a3, 0x44($sp)
/* 8919C 8009899C 0800828C */  lw         $v0, 0x8($a0)
/* 891A0 800989A0 4C00A48F */  lw         $a0, 0x4C($sp)
/* 891A4 800989A4 E400518C */  lw         $s1, 0xE4($v0)
/* 891A8 800989A8 E000508C */  lw         $s0, 0xE0($v0)
/* 891AC 800989AC 1462020C */  jal        PLANAPI_GetFlags
/* 891B0 800989B0 21B08002 */   addu      $s6, $s4, $zero
/* 891B4 800989B4 21900002 */  addu       $s2, $s0, $zero
/* 891B8 800989B8 3400401A */  blez       $s2, .L80098A8C
/* 891BC 800989BC 21B84000 */   addu      $s7, $v0, $zero
/* 891C0 800989C0 21802002 */  addu       $s0, $s1, $zero
.L800989C4:
/* 891C4 800989C4 06000286 */  lh         $v0, 0x6($s0)
/* 891C8 800989C8 00000000 */  nop
/* 891CC 800989CC 24105700 */  and        $v0, $v0, $s7
/* 891D0 800989D0 2A004010 */  beqz       $v0, .L80098A7C
/* 891D4 800989D4 00000000 */   nop
/* 891D8 800989D8 5000A88F */  lw         $t0, 0x50($sp)
/* 891DC 800989DC 00000000 */  nop
/* 891E0 800989E0 0A000015 */  bnez       $t0, .L80098A0C
/* 891E4 800989E4 00000000 */   nop
/* 891E8 800989E8 00006386 */  lh         $v1, 0x0($s3)
/* 891EC 800989EC 00002486 */  lh         $a0, 0x0($s1)
/* 891F0 800989F0 02006286 */  lh         $v0, 0x2($s3)
/* 891F4 800989F4 02000586 */  lh         $a1, 0x2($s0)
/* 891F8 800989F8 23206400 */  subu       $a0, $v1, $a0
/* 891FC 800989FC EBE6000C */  jal        MATH3D_LengthXY
/* 89200 80098A00 23284500 */   subu      $a1, $v0, $a1
/* 89204 80098A04 8E620208 */  j          .L80098A38
/* 89208 80098A08 21184000 */   addu      $v1, $v0, $zero
.L80098A0C:
/* 8920C 80098A0C 00006286 */  lh         $v0, 0x0($s3)
/* 89210 80098A10 00002486 */  lh         $a0, 0x0($s1)
/* 89214 80098A14 02006386 */  lh         $v1, 0x2($s3)
/* 89218 80098A18 02000586 */  lh         $a1, 0x2($s0)
/* 8921C 80098A1C 04000686 */  lh         $a2, 0x4($s0)
/* 89220 80098A20 23204400 */  subu       $a0, $v0, $a0
/* 89224 80098A24 04006286 */  lh         $v0, 0x4($s3)
/* 89228 80098A28 23286500 */  subu       $a1, $v1, $a1
/* 8922C 80098A2C B7E6000C */  jal        MATH3D_LengthXYZ
/* 89230 80098A30 23304600 */   subu      $a2, $v0, $a2
/* 89234 80098A34 21184000 */  addu       $v1, $v0, $zero
.L80098A38:
/* 89238 80098A38 4800A88F */  lw         $t0, 0x48($sp)
/* 8923C 80098A3C 00000000 */  nop
/* 89240 80098A40 2A106800 */  slt        $v0, $v1, $t0
/* 89244 80098A44 0D004010 */  beqz       $v0, .L80098A7C
/* 89248 80098A48 00000000 */   nop
/* 8924C 80098A4C 4400A88F */  lw         $t0, 0x44($sp)
/* 89250 80098A50 00000000 */  nop
/* 89254 80098A54 23106800 */  subu       $v0, $v1, $t0
/* 89258 80098A58 02004104 */  bgez       $v0, .L80098A64
/* 8925C 80098A5C 21184000 */   addu      $v1, $v0, $zero
/* 89260 80098A60 23180300 */  negu       $v1, $v1
.L80098A64:
/* 89264 80098A64 2A107500 */  slt        $v0, $v1, $s5
/* 89268 80098A68 04004010 */  beqz       $v0, .L80098A7C
/* 8926C 80098A6C 00000000 */   nop
/* 89270 80098A70 21A86000 */  addu       $s5, $v1, $zero
/* 89274 80098A74 21A00002 */  addu       $s4, $s0, $zero
/* 89278 80098A78 01001624 */  addiu      $s6, $zero, 0x1
.L80098A7C:
/* 8927C 80098A7C FFFF5226 */  addiu      $s2, $s2, -0x1
/* 89280 80098A80 08001026 */  addiu      $s0, $s0, 0x8
/* 89284 80098A84 CFFF401E */  bgtz       $s2, .L800989C4
/* 89288 80098A88 08003126 */   addiu     $s1, $s1, 0x8
.L80098A8C:
/* 8928C 80098A8C 0800C012 */  beqz       $s6, .L80098AB0
/* 89290 80098A90 2110C002 */   addu      $v0, $s6, $zero
/* 89294 80098A94 00008296 */  lhu        $v0, 0x0($s4)
/* 89298 80098A98 02008396 */  lhu        $v1, 0x2($s4)
/* 8929C 80098A9C 04008496 */  lhu        $a0, 0x4($s4)
/* 892A0 80098AA0 0000C2A7 */  sh         $v0, 0x0($fp)
/* 892A4 80098AA4 0200C3A7 */  sh         $v1, 0x2($fp)
/* 892A8 80098AA8 0400C4A7 */  sh         $a0, 0x4($fp)
/* 892AC 80098AAC 2110C002 */  addu       $v0, $s6, $zero
.L80098AB0:
/* 892B0 80098AB0 3400BF8F */  lw         $ra, 0x34($sp)
/* 892B4 80098AB4 3000BE8F */  lw         $fp, 0x30($sp)
/* 892B8 80098AB8 2C00B78F */  lw         $s7, 0x2C($sp)
/* 892BC 80098ABC 2800B68F */  lw         $s6, 0x28($sp)
/* 892C0 80098AC0 2400B58F */  lw         $s5, 0x24($sp)
/* 892C4 80098AC4 2000B48F */  lw         $s4, 0x20($sp)
/* 892C8 80098AC8 1C00B38F */  lw         $s3, 0x1C($sp)
/* 892CC 80098ACC 1800B28F */  lw         $s2, 0x18($sp)
/* 892D0 80098AD0 1400B18F */  lw         $s1, 0x14($sp)
/* 892D4 80098AD4 1000B08F */  lw         $s0, 0x10($sp)
/* 892D8 80098AD8 0800E003 */  jr         $ra
/* 892DC 80098ADC 3800BD27 */   addiu     $sp, $sp, 0x38
.size PLANAPI_FindClosestNodePositionInUnit, . - PLANAPI_FindClosestNodePositionInUnit
