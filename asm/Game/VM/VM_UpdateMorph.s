.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel VM_UpdateMorph
/* 40444 8004FC44 D0FFBD27 */  addiu      $sp, $sp, -0x30
/* 40448 8004FC48 2400B5AF */  sw         $s5, 0x24($sp)
/* 4044C 8004FC4C 2800BFAF */  sw         $ra, 0x28($sp)
/* 40450 8004FC50 2000B4AF */  sw         $s4, 0x20($sp)
/* 40454 8004FC54 1C00B3AF */  sw         $s3, 0x1C($sp)
/* 40458 8004FC58 1800B2AF */  sw         $s2, 0x18($sp)
/* 4045C 8004FC5C 1400B1AF */  sw         $s1, 0x14($sp)
/* 40460 8004FC60 1000B0AF */  sw         $s0, 0x10($sp)
/* 40464 8004FC64 0800948C */  lw         $s4, 0x8($a0)
/* 40468 8004FC68 0C00938C */  lw         $s3, 0xC($a0)
/* 4046C 8004FC6C E2008012 */  beqz       $s4, .L8004FFF8
/* 40470 8004FC70 21A8A000 */   addu      $s5, $a1, $zero
/* 40474 8004FC74 24007026 */  addiu      $s0, $s3, 0x24
.L8004FC78:
/* 40478 8004FC78 E0FF0386 */  lh         $v1, -0x20($s0)
/* 4047C 8004FC7C E2FF0286 */  lh         $v0, -0x1E($s0)
/* 40480 8004FC80 00000000 */  nop
/* 40484 8004FC84 06006214 */  bne        $v1, $v0, .L8004FCA0
/* 40488 8004FC88 E8030324 */   addiu     $v1, $zero, 0x3E8
/* 4048C 8004FC8C 00006296 */  lhu        $v0, 0x0($s3)
/* 40490 8004FC90 00000000 */  nop
/* 40494 8004FC94 00014230 */  andi       $v0, $v0, 0x100
/* 40498 8004FC98 D3004010 */  beqz       $v0, .L8004FFE8
/* 4049C 8004FC9C 00000000 */   nop
.L8004FCA0:
/* 404A0 8004FCA0 D0BD8287 */  lh         $v0, %gp_rel(gameTrackerX + 0x8)($gp)
/* 404A4 8004FCA4 0000048E */  lw         $a0, 0x0($s0)
/* 404A8 8004FCA8 25004314 */  bne        $v0, $v1, .L8004FD40
/* 404AC 8004FCAC 00000000 */   nop
/* 404B0 8004FCB0 E4FF0286 */  lh         $v0, -0x1C($s0)
/* 404B4 8004FCB4 FCFF038E */  lw         $v1, -0x4($s0)
/* 404B8 8004FCB8 80100200 */  sll        $v0, $v0, 2
/* 404BC 8004FCBC 21104300 */  addu       $v0, $v0, $v1
/* 404C0 8004FCC0 0000428C */  lw         $v0, 0x0($v0)
/* 404C4 8004FCC4 00000000 */  nop
/* 404C8 8004FCC8 03008210 */  beq        $a0, $v0, .L8004FCD8
/* 404CC 8004FCCC 00000000 */   nop
/* 404D0 8004FCD0 2641010C */  jal        MEMPACK_Free
/* 404D4 8004FCD4 00000000 */   nop
.L8004FCD8:
/* 404D8 8004FCD8 0800A012 */  beqz       $s5, .L8004FCFC
/* 404DC 8004FCDC 00000000 */   nop
/* 404E0 8004FCE0 D2BD8287 */  lh         $v0, %gp_rel(gameTrackerX + 0xA)($gp)
/* 404E4 8004FCE4 00000000 */  nop
/* 404E8 8004FCE8 0B004014 */  bnez       $v0, .L8004FD18
/* 404EC 8004FCEC 00000000 */   nop
/* 404F0 8004FCF0 E0FF0296 */  lhu        $v0, -0x20($s0)
/* 404F4 8004FCF4 493F0108 */  j          .L8004FD24
/* 404F8 8004FCF8 E4FF02A6 */   sh        $v0, -0x1C($s0)
.L8004FCFC:
/* 404FC 8004FCFC D2BD8287 */  lh         $v0, %gp_rel(gameTrackerX + 0xA)($gp)
/* 40500 8004FD00 00000000 */  nop
/* 40504 8004FD04 04004010 */  beqz       $v0, .L8004FD18
/* 40508 8004FD08 00000000 */   nop
/* 4050C 8004FD0C E0FF0296 */  lhu        $v0, -0x20($s0)
/* 40510 8004FD10 493F0108 */  j          .L8004FD24
/* 40514 8004FD14 E4FF02A6 */   sh        $v0, -0x1C($s0)
.L8004FD18:
/* 40518 8004FD18 E2FF0296 */  lhu        $v0, -0x1E($s0)
/* 4051C 8004FD1C 00000000 */  nop
/* 40520 8004FD20 E4FF02A6 */  sh         $v0, -0x1C($s0)
.L8004FD24:
/* 40524 8004FD24 E4FF0286 */  lh         $v0, -0x1C($s0)
/* 40528 8004FD28 FCFF038E */  lw         $v1, -0x4($s0)
/* 4052C 8004FD2C 80100200 */  sll        $v0, $v0, 2
/* 40530 8004FD30 21104300 */  addu       $v0, $v0, $v1
/* 40534 8004FD34 0000428C */  lw         $v0, 0x0($v0)
/* 40538 8004FD38 FA3F0108 */  j          .L8004FFE8
/* 4053C 8004FD3C 000002AE */   sw        $v0, 0x0($s0)
.L8004FD40:
/* 40540 8004FD40 E4FF0286 */  lh         $v0, -0x1C($s0)
/* 40544 8004FD44 FCFF038E */  lw         $v1, -0x4($s0)
/* 40548 8004FD48 0000918C */  lw         $s1, 0x0($a0)
/* 4054C 8004FD4C 80100200 */  sll        $v0, $v0, 2
/* 40550 8004FD50 21104300 */  addu       $v0, $v0, $v1
/* 40554 8004FD54 0000428C */  lw         $v0, 0x0($v0)
/* 40558 8004FD58 ECBF9297 */  lhu        $s2, %gp_rel(gameTrackerX + 0x224)($gp)
/* 4055C 8004FD5C 0F008214 */  bne        $a0, $v0, .L8004FD9C
/* 40560 8004FD60 00000000 */   nop
/* 40564 8004FD64 00006296 */  lhu        $v0, 0x0($s3)
/* 40568 8004FD68 00000000 */  nop
/* 4056C 8004FD6C 08004230 */  andi       $v0, $v0, 0x8
/* 40570 8004FD70 04004010 */  beqz       $v0, .L8004FD84
/* 40574 8004FD74 40101100 */   sll       $v0, $s1, 1
/* 40578 8004FD78 21105100 */  addu       $v0, $v0, $s1
/* 4057C 8004FD7C 623F0108 */  j          .L8004FD88
/* 40580 8004FD80 40100200 */   sll       $v0, $v0, 1
.L8004FD84:
/* 40584 8004FD84 21105100 */  addu       $v0, $v0, $s1
.L8004FD88:
/* 40588 8004FD88 04004424 */  addiu      $a0, $v0, 0x4
/* 4058C 8004FD8C 8140010C */  jal        MEMPACK_Malloc
/* 40590 8004FD90 28000524 */   addiu     $a1, $zero, 0x28
/* 40594 8004FD94 000002AE */  sw         $v0, 0x0($s0)
/* 40598 8004FD98 000051AC */  sw         $s1, 0x0($v0)
.L8004FD9C:
/* 4059C 8004FD9C 00006296 */  lhu        $v0, 0x0($s3)
/* 405A0 8004FDA0 00000000 */  nop
/* 405A4 8004FDA4 08004230 */  andi       $v0, $v0, 0x8
/* 405A8 8004FDA8 38004010 */  beqz       $v0, .L8004FE8C
/* 405AC 8004FDAC 21480000 */   addu      $t1, $zero, $zero
/* 405B0 8004FDB0 E0FF0286 */  lh         $v0, -0x20($s0)
/* 405B4 8004FDB4 FCFF048E */  lw         $a0, -0x4($s0)
/* 405B8 8004FDB8 80100200 */  sll        $v0, $v0, 2
/* 405BC 8004FDBC 21104400 */  addu       $v0, $v0, $a0
/* 405C0 8004FDC0 0000438C */  lw         $v1, 0x0($v0)
/* 405C4 8004FDC4 E2FF0286 */  lh         $v0, -0x1E($s0)
/* 405C8 8004FDC8 04006524 */  addiu      $a1, $v1, 0x4
/* 405CC 8004FDCC 80100200 */  sll        $v0, $v0, 2
/* 405D0 8004FDD0 21104400 */  addu       $v0, $v0, $a0
/* 405D4 8004FDD4 0000428C */  lw         $v0, 0x0($v0)
/* 405D8 8004FDD8 0000038E */  lw         $v1, 0x0($s0)
/* 405DC 8004FDDC 04004424 */  addiu      $a0, $v0, 0x4
/* 405E0 8004FDE0 8100201A */  blez       $s1, .L8004FFE8
/* 405E4 8004FDE4 04006324 */   addiu     $v1, $v1, 0x4
/* 405E8 8004FDE8 00141200 */  sll        $v0, $s2, 16
/* 405EC 8004FDEC 033C0200 */  sra        $a3, $v0, 16
/* 405F0 8004FDF0 21306000 */  addu       $a2, $v1, $zero
.L8004FDF4:
/* 405F4 8004FDF4 00008284 */  lh         $v0, 0x0($a0)
/* 405F8 8004FDF8 0000A384 */  lh         $v1, 0x0($a1)
/* 405FC 8004FDFC 00000000 */  nop
/* 40600 8004FE00 23104300 */  subu       $v0, $v0, $v1
/* 40604 8004FE04 18004700 */  mult       $v0, $a3
/* 40608 8004FE08 0000A294 */  lhu        $v0, 0x0($a1)
/* 4060C 8004FE0C 12580000 */  mflo       $t3
/* 40610 8004FE10 031B0B00 */  sra        $v1, $t3, 12
/* 40614 8004FE14 21104300 */  addu       $v0, $v0, $v1
/* 40618 8004FE18 0000C2A4 */  sh         $v0, 0x0($a2)
/* 4061C 8004FE1C 02008284 */  lh         $v0, 0x2($a0)
/* 40620 8004FE20 0200A384 */  lh         $v1, 0x2($a1)
/* 40624 8004FE24 00000000 */  nop
/* 40628 8004FE28 23104300 */  subu       $v0, $v0, $v1
/* 4062C 8004FE2C 18004700 */  mult       $v0, $a3
/* 40630 8004FE30 0200A294 */  lhu        $v0, 0x2($a1)
/* 40634 8004FE34 12580000 */  mflo       $t3
/* 40638 8004FE38 031B0B00 */  sra        $v1, $t3, 12
/* 4063C 8004FE3C 21104300 */  addu       $v0, $v0, $v1
/* 40640 8004FE40 0200C2A4 */  sh         $v0, 0x2($a2)
/* 40644 8004FE44 04008284 */  lh         $v0, 0x4($a0)
/* 40648 8004FE48 0400A384 */  lh         $v1, 0x4($a1)
/* 4064C 8004FE4C 00000000 */  nop
/* 40650 8004FE50 23104300 */  subu       $v0, $v0, $v1
/* 40654 8004FE54 18004700 */  mult       $v0, $a3
/* 40658 8004FE58 01002925 */  addiu      $t1, $t1, 0x1
/* 4065C 8004FE5C 06008424 */  addiu      $a0, $a0, 0x6
/* 40660 8004FE60 0400A394 */  lhu        $v1, 0x4($a1)
/* 40664 8004FE64 0600A524 */  addiu      $a1, $a1, 0x6
/* 40668 8004FE68 12580000 */  mflo       $t3
/* 4066C 8004FE6C 03130B00 */  sra        $v0, $t3, 12
/* 40670 8004FE70 21186200 */  addu       $v1, $v1, $v0
/* 40674 8004FE74 0400C3A4 */  sh         $v1, 0x4($a2)
/* 40678 8004FE78 2A103101 */  slt        $v0, $t1, $s1
/* 4067C 8004FE7C DDFF4014 */  bnez       $v0, .L8004FDF4
/* 40680 8004FE80 0600C624 */   addiu     $a2, $a2, 0x6
/* 40684 8004FE84 FB3F0108 */  j          .L8004FFEC
/* 40688 8004FE88 FFFF9426 */   addiu     $s4, $s4, -0x1
.L8004FE8C:
/* 4068C 8004FE8C E0FF0286 */  lh         $v0, -0x20($s0)
/* 40690 8004FE90 FCFF048E */  lw         $a0, -0x4($s0)
/* 40694 8004FE94 80100200 */  sll        $v0, $v0, 2
/* 40698 8004FE98 21104400 */  addu       $v0, $v0, $a0
/* 4069C 8004FE9C 0000438C */  lw         $v1, 0x0($v0)
/* 406A0 8004FEA0 E2FF0286 */  lh         $v0, -0x1E($s0)
/* 406A4 8004FEA4 04006524 */  addiu      $a1, $v1, 0x4
/* 406A8 8004FEA8 80100200 */  sll        $v0, $v0, 2
/* 406AC 8004FEAC 21104400 */  addu       $v0, $v0, $a0
/* 406B0 8004FEB0 0000428C */  lw         $v0, 0x0($v0)
/* 406B4 8004FEB4 0000038E */  lw         $v1, 0x0($s0)
/* 406B8 8004FEB8 04004424 */  addiu      $a0, $v0, 0x4
/* 406BC 8004FEBC 4A00201A */  blez       $s1, .L8004FFE8
/* 406C0 8004FEC0 04006324 */   addiu     $v1, $v1, 0x4
/* 406C4 8004FEC4 00141200 */  sll        $v0, $s2, 16
/* 406C8 8004FEC8 03540200 */  sra        $t2, $v0, 16
/* 406CC 8004FECC 21406000 */  addu       $t0, $v1, $zero
/* 406D0 8004FED0 21308000 */  addu       $a2, $a0, $zero
.L8004FED4:
/* 406D4 8004FED4 00006296 */  lhu        $v0, 0x0($s3)
/* 406D8 8004FED8 00000000 */  nop
/* 406DC 8004FEDC 00014230 */  andi       $v0, $v0, 0x100
/* 406E0 8004FEE0 0E004010 */  beqz       $v0, .L8004FF1C
/* 406E4 8004FEE4 00000000 */   nop
/* 406E8 8004FEE8 0200C390 */  lbu        $v1, 0x2($a2)
/* 406EC 8004FEEC 0000A290 */  lbu        $v0, 0x0($a1)
/* 406F0 8004FEF0 0100C490 */  lbu        $a0, 0x1($a2)
/* 406F4 8004FEF4 001E0300 */  sll        $v1, $v1, 24
/* 406F8 8004FEF8 031E0300 */  sra        $v1, $v1, 24
/* 406FC 8004FEFC 00160200 */  sll        $v0, $v0, 24
/* 40700 8004FF00 03160200 */  sra        $v0, $v0, 24
/* 40704 8004FF04 23386200 */  subu       $a3, $v1, $v0
/* 40708 8004FF08 00260400 */  sll        $a0, $a0, 24
/* 4070C 8004FF0C 0100A290 */  lbu        $v0, 0x1($a1)
/* 40710 8004FF10 0000C390 */  lbu        $v1, 0x0($a2)
/* 40714 8004FF14 D33F0108 */  j          .L8004FF4C
/* 40718 8004FF18 03260400 */   sra       $a0, $a0, 24
.L8004FF1C:
/* 4071C 8004FF1C 0000C390 */  lbu        $v1, 0x0($a2)
/* 40720 8004FF20 0000A290 */  lbu        $v0, 0x0($a1)
/* 40724 8004FF24 0100C490 */  lbu        $a0, 0x1($a2)
/* 40728 8004FF28 001E0300 */  sll        $v1, $v1, 24
/* 4072C 8004FF2C 031E0300 */  sra        $v1, $v1, 24
/* 40730 8004FF30 00160200 */  sll        $v0, $v0, 24
/* 40734 8004FF34 03160200 */  sra        $v0, $v0, 24
/* 40738 8004FF38 23386200 */  subu       $a3, $v1, $v0
/* 4073C 8004FF3C 00260400 */  sll        $a0, $a0, 24
/* 40740 8004FF40 03260400 */  sra        $a0, $a0, 24
/* 40744 8004FF44 0100A290 */  lbu        $v0, 0x1($a1)
/* 40748 8004FF48 0200C390 */  lbu        $v1, 0x2($a2)
.L8004FF4C:
/* 4074C 8004FF4C 00160200 */  sll        $v0, $v0, 24
/* 40750 8004FF50 03160200 */  sra        $v0, $v0, 24
/* 40754 8004FF54 23208200 */  subu       $a0, $a0, $v0
/* 40758 8004FF58 001E0300 */  sll        $v1, $v1, 24
/* 4075C 8004FF5C 0200A290 */  lbu        $v0, 0x2($a1)
/* 40760 8004FF60 031E0300 */  sra        $v1, $v1, 24
/* 40764 8004FF64 00160200 */  sll        $v0, $v0, 24
/* 40768 8004FF68 03160200 */  sra        $v0, $v0, 24
/* 4076C 8004FF6C 23186200 */  subu       $v1, $v1, $v0
/* 40770 8004FF70 00140700 */  sll        $v0, $a3, 16
/* 40774 8004FF74 03140200 */  sra        $v0, $v0, 16
/* 40778 8004FF78 18004A00 */  mult       $v0, $t2
/* 4077C 8004FF7C 12600000 */  mflo       $t4
/* 40780 8004FF80 00140400 */  sll        $v0, $a0, 16
/* 40784 8004FF84 03140200 */  sra        $v0, $v0, 16
/* 40788 8004FF88 18004A00 */  mult       $v0, $t2
/* 4078C 8004FF8C 0300C624 */  addiu      $a2, $a2, 0x3
/* 40790 8004FF90 12200000 */  mflo       $a0
/* 40794 8004FF94 00140300 */  sll        $v0, $v1, 16
/* 40798 8004FF98 03140200 */  sra        $v0, $v0, 16
/* 4079C 8004FF9C 18004A00 */  mult       $v0, $t2
/* 407A0 8004FFA0 01002925 */  addiu      $t1, $t1, 0x1
/* 407A4 8004FFA4 0000A290 */  lbu        $v0, 0x0($a1)
/* 407A8 8004FFA8 031B0C00 */  sra        $v1, $t4, 12
/* 407AC 8004FFAC 21104300 */  addu       $v0, $v0, $v1
/* 407B0 8004FFB0 000002A1 */  sb         $v0, 0x0($t0)
/* 407B4 8004FFB4 0100A290 */  lbu        $v0, 0x1($a1)
/* 407B8 8004FFB8 031B0400 */  sra        $v1, $a0, 12
/* 407BC 8004FFBC 21104300 */  addu       $v0, $v0, $v1
/* 407C0 8004FFC0 010002A1 */  sb         $v0, 0x1($t0)
/* 407C4 8004FFC4 0200A390 */  lbu        $v1, 0x2($a1)
/* 407C8 8004FFC8 0300A524 */  addiu      $a1, $a1, 0x3
/* 407CC 8004FFCC 12380000 */  mflo       $a3
/* 407D0 8004FFD0 03130700 */  sra        $v0, $a3, 12
/* 407D4 8004FFD4 21186200 */  addu       $v1, $v1, $v0
/* 407D8 8004FFD8 020003A1 */  sb         $v1, 0x2($t0)
/* 407DC 8004FFDC 2A103101 */  slt        $v0, $t1, $s1
/* 407E0 8004FFE0 BCFF4014 */  bnez       $v0, .L8004FED4
/* 407E4 8004FFE4 03000825 */   addiu     $t0, $t0, 0x3
.L8004FFE8:
/* 407E8 8004FFE8 FFFF9426 */  addiu      $s4, $s4, -0x1
.L8004FFEC:
/* 407EC 8004FFEC 3C001026 */  addiu      $s0, $s0, 0x3C
/* 407F0 8004FFF0 21FF8016 */  bnez       $s4, .L8004FC78
/* 407F4 8004FFF4 3C007326 */   addiu     $s3, $s3, 0x3C
.L8004FFF8:
/* 407F8 8004FFF8 2800BF8F */  lw         $ra, 0x28($sp)
/* 407FC 8004FFFC 2400B58F */  lw         $s5, 0x24($sp)
/* 40800 80050000 2000B48F */  lw         $s4, 0x20($sp)
/* 40804 80050004 1C00B38F */  lw         $s3, 0x1C($sp)
/* 40808 80050008 1800B28F */  lw         $s2, 0x18($sp)
/* 4080C 8005000C 1400B18F */  lw         $s1, 0x14($sp)
/* 40810 80050010 1000B08F */  lw         $s0, 0x10($sp)
/* 40814 80050014 0800E003 */  jr         $ra
/* 40818 80050018 3000BD27 */   addiu     $sp, $sp, 0x30
.size VM_UpdateMorph, . - VM_UpdateMorph
