.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel LIGHT_CalcShadowPositions
/* 276AC 80036EAC A8FFBD27 */  addiu      $sp, $sp, -0x58
/* 276B0 80036EB0 5400BFAF */  sw         $ra, 0x54($sp)
/* 276B4 80036EB4 5000B0AF */  sw         $s0, 0x50($sp)
/* 276B8 80036EB8 3400828C */  lw         $v0, 0x34($a0)
/* 276BC 80036EBC 00000000 */  nop
/* 276C0 80036EC0 0400508C */  lw         $s0, 0x4($v0)
/* 276C4 80036EC4 00000000 */  nop
/* 276C8 80036EC8 B4000012 */  beqz       $s0, .L8003719C
/* 276CC 80036ECC 00000000 */   nop
.L80036ED0:
/* 276D0 80036ED0 1800058E */  lw         $a1, 0x18($s0)
/* 276D4 80036ED4 00000000 */  nop
/* 276D8 80036ED8 4000A230 */  andi       $v0, $a1, 0x40
/* 276DC 80036EDC 9E004010 */  beqz       $v0, .L80037158
/* 276E0 80036EE0 00020224 */   addiu     $v0, $zero, 0x200
/* 276E4 80036EE4 1400048E */  lw         $a0, 0x14($s0)
/* 276E8 80036EE8 00000000 */  nop
/* 276EC 80036EEC 000A8330 */  andi       $v1, $a0, 0xA00
/* 276F0 80036EF0 94006214 */  bne        $v1, $v0, .L80037144
/* 276F4 80036EF4 0004023C */   lui       $v0, (0x4000000 >> 16)
/* 276F8 80036EF8 2410A200 */  and        $v0, $a1, $v0
/* 276FC 80036EFC 91004014 */  bnez       $v0, .L80037144
/* 27700 80036F00 0018023C */   lui       $v0, (0x18000000 >> 16)
/* 27704 80036F04 24108200 */  and        $v0, $a0, $v0
/* 27708 80036F08 0008033C */  lui        $v1, (0x8000000 >> 16)
/* 2770C 80036F0C 86004310 */  beq        $v0, $v1, .L80037128
/* 27710 80036F10 0010023C */   lui       $v0, (0x10000000 >> 16)
/* 27714 80036F14 24108200 */  and        $v0, $a0, $v0
/* 27718 80036F18 14004010 */  beqz       $v0, .L80036F6C
/* 2771C 80036F1C 00000000 */   nop
/* 27720 80036F20 4000028E */  lw         $v0, 0x40($s0)
/* 27724 80036F24 00000000 */  nop
/* 27728 80036F28 34004294 */  lhu        $v0, 0x34($v0)
/* 2772C 80036F2C 00000000 */  nop
/* 27730 80036F30 4000A2A7 */  sh         $v0, 0x40($sp)
/* 27734 80036F34 4800A2A7 */  sh         $v0, 0x48($sp)
/* 27738 80036F38 4000028E */  lw         $v0, 0x40($s0)
/* 2773C 80036F3C 00000000 */  nop
/* 27740 80036F40 38004294 */  lhu        $v0, 0x38($v0)
/* 27744 80036F44 00000000 */  nop
/* 27748 80036F48 4200A2A7 */  sh         $v0, 0x42($sp)
/* 2774C 80036F4C 4A00A2A7 */  sh         $v0, 0x4A($sp)
/* 27750 80036F50 4000028E */  lw         $v0, 0x40($s0)
/* 27754 80036F54 00000000 */  nop
/* 27758 80036F58 3C004294 */  lhu        $v0, 0x3C($v0)
/* 2775C 80036F5C 00000000 */  nop
/* 27760 80036F60 4400A2A7 */  sh         $v0, 0x44($sp)
/* 27764 80036F64 E7DB0008 */  j          .L80036F9C
/* 27768 80036F68 4C00A2A7 */   sh        $v0, 0x4C($sp)
.L80036F6C:
/* 2776C 80036F6C 5F00078A */  lwl        $a3, 0x5F($s0)
/* 27770 80036F70 5C00079A */  lwr        $a3, 0x5C($s0)
/* 27774 80036F74 60000886 */  lh         $t0, 0x60($s0)
/* 27778 80036F78 4300A7AB */  swl        $a3, 0x43($sp)
/* 2777C 80036F7C 4000A7BB */  swr        $a3, 0x40($sp)
/* 27780 80036F80 4400A8A7 */  sh         $t0, 0x44($sp)
/* 27784 80036F84 5F00078A */  lwl        $a3, 0x5F($s0)
/* 27788 80036F88 5C00079A */  lwr        $a3, 0x5C($s0)
/* 2778C 80036F8C 60000886 */  lh         $t0, 0x60($s0)
/* 27790 80036F90 4B00A7AB */  swl        $a3, 0x4B($sp)
/* 27794 80036F94 4800A7BB */  swr        $a3, 0x48($sp)
/* 27798 80036F98 4C00A8A7 */  sh         $t0, 0x4C($sp)
.L80036F9C:
/* 2779C 80036F9C 37000224 */  addiu      $v0, $zero, 0x37
/* 277A0 80036FA0 3400A2AF */  sw         $v0, 0x34($sp)
/* 277A4 80036FA4 4000A227 */  addiu      $v0, $sp, 0x40
/* 277A8 80036FA8 2400A2AF */  sw         $v0, 0x24($sp)
/* 277AC 80036FAC 4800A227 */  addiu      $v0, $sp, 0x48
/* 277B0 80036FB0 2800A2AF */  sw         $v0, 0x28($sp)
/* 277B4 80036FB4 4400A297 */  lhu        $v0, 0x44($sp)
/* 277B8 80036FB8 4C00A397 */  lhu        $v1, 0x4C($sp)
/* 277BC 80036FBC 3800B0AF */  sw         $s0, 0x38($sp)
/* 277C0 80036FC0 00FB4224 */  addiu      $v0, $v0, -0x500
/* 277C4 80036FC4 00016324 */  addiu      $v1, $v1, 0x100
/* 277C8 80036FC8 4400A2A7 */  sh         $v0, 0x44($sp)
/* 277CC 80036FCC 4C00A3A7 */  sh         $v1, 0x4C($sp)
/* 277D0 80036FD0 1400028E */  lw         $v0, 0x14($s0)
/* 277D4 80036FD4 3800048E */  lw         $a0, 0x38($s0)
/* 277D8 80036FD8 40004234 */  ori        $v0, $v0, 0x40
/* 277DC 80036FDC 1C66010C */  jal        STREAM_GetLevelWithID
/* 277E0 80036FE0 140002AE */   sw        $v0, 0x14($s0)
/* 277E4 80036FE4 05004010 */  beqz       $v0, .L80036FFC
/* 277E8 80036FE8 1000A427 */   addiu     $a0, $sp, 0x10
/* 277EC 80036FEC 0783000C */  jal        COLLIDE_PointAndWorld
/* 277F0 80036FF0 21284000 */   addu      $a1, $v0, $zero
/* 277F4 80036FF4 00DC0008 */  j          .L80037000
/* 277F8 80036FF8 00000000 */   nop
.L80036FFC:
/* 277FC 80036FFC 1000A0A7 */  sh         $zero, 0x10($sp)
.L80037000:
/* 27800 80037000 1400028E */  lw         $v0, 0x14($s0)
/* 27804 80037004 BFFF0324 */  addiu      $v1, $zero, -0x41
/* 27808 80037008 24104300 */  and        $v0, $v0, $v1
/* 2780C 8003700C 140002AE */  sw         $v0, 0x14($s0)
/* 27810 80037010 1000A387 */  lh         $v1, 0x10($sp)
/* 27814 80037014 03000224 */  addiu      $v0, $zero, 0x3
/* 27818 80037018 06006214 */  bne        $v1, $v0, .L80037034
/* 2781C 8003701C 05000224 */   addiu     $v0, $zero, 0x5
/* 27820 80037020 1800A28F */  lw         $v0, 0x18($sp)
/* 27824 80037024 1400A48F */  lw         $a0, 0x14($sp)
/* 27828 80037028 0000468C */  lw         $a2, 0x0($v0)
/* 2782C 8003702C 11DC0008 */  j          .L80037044
/* 27830 80037030 21280002 */   addu      $a1, $s0, $zero
.L80037034:
/* 27834 80037034 05006210 */  beq        $v1, $v0, .L8003704C
/* 27838 80037038 21200000 */   addu      $a0, $zero, $zero
/* 2783C 8003703C 21280002 */  addu       $a1, $s0, $zero
/* 27840 80037040 21308000 */  addu       $a2, $a0, $zero
.L80037044:
/* 27844 80037044 20D8000C */  jal        LIGHT_CalcLightValue
/* 27848 80037048 00000000 */   nop
.L8003704C:
/* 2784C 8003704C 1000A387 */  lh         $v1, 0x10($sp)
/* 27850 80037050 00000000 */  nop
/* 27854 80037054 2C006010 */  beqz       $v1, .L80037108
/* 27858 80037058 01000224 */   addiu     $v0, $zero, 0x1
/* 2785C 8003705C 26006210 */  beq        $v1, $v0, .L800370F8
/* 27860 80037060 03000224 */   addiu     $v0, $zero, 0x3
/* 27864 80037064 17006214 */  bne        $v1, $v0, .L800370C4
/* 27868 80037068 DFFF033C */   lui       $v1, (0xFFDFFFFF >> 16)
/* 2786C 8003706C 1400A48F */  lw         $a0, 0x14($sp)
/* 27870 80037070 00000000 */  nop
/* 27874 80037074 0A008394 */  lhu        $v1, 0xA($a0)
/* 27878 80037078 FFFF0234 */  ori        $v0, $zero, 0xFFFF
/* 2787C 8003707C 10006210 */  beq        $v1, $v0, .L800370C0
/* 27880 80037080 00000000 */   nop
/* 27884 80037084 1800A28F */  lw         $v0, 0x18($sp)
/* 27888 80037088 00000000 */  nop
/* 2788C 8003708C 0000428C */  lw         $v0, 0x0($v0)
/* 27890 80037090 00000000 */  nop
/* 27894 80037094 3400428C */  lw         $v0, 0x34($v0)
/* 27898 80037098 00000000 */  nop
/* 2789C 8003709C 21104300 */  addu       $v0, $v0, $v1
/* 278A0 800370A0 0A004294 */  lhu        $v0, 0xA($v0)
/* 278A4 800370A4 00000000 */  nop
/* 278A8 800370A8 00404230 */  andi       $v0, $v0, 0x4000
/* 278AC 800370AC 04004010 */  beqz       $v0, .L800370C0
/* 278B0 800370B0 2000033C */   lui       $v1, (0x200000 >> 16)
/* 278B4 800370B4 1400028E */  lw         $v0, 0x14($s0)
/* 278B8 800370B8 34DC0008 */  j          .L800370D0
/* 278BC 800370BC 25104300 */   or        $v0, $v0, $v1
.L800370C0:
/* 278C0 800370C0 DFFF033C */  lui        $v1, (0xFFDFFFFF >> 16)
.L800370C4:
/* 278C4 800370C4 1400028E */  lw         $v0, 0x14($s0)
/* 278C8 800370C8 FFFF6334 */  ori        $v1, $v1, (0xFFDFFFFF & 0xFFFF)
/* 278CC 800370CC 24104300 */  and        $v0, $v0, $v1
.L800370D0:
/* 278D0 800370D0 140002AE */  sw         $v0, 0x14($s0)
/* 278D4 800370D4 1C00A297 */  lhu        $v0, 0x1C($sp)
/* 278D8 800370D8 00000000 */  nop
/* 278DC 800370DC D80002A6 */  sh         $v0, 0xD8($s0)
/* 278E0 800370E0 1E00A297 */  lhu        $v0, 0x1E($sp)
/* 278E4 800370E4 00000000 */  nop
/* 278E8 800370E8 DA0002A6 */  sh         $v0, 0xDA($s0)
/* 278EC 800370EC 2000A297 */  lhu        $v0, 0x20($sp)
/* 278F0 800370F0 42DC0008 */  j          .L80037108
/* 278F4 800370F4 DC0002A6 */   sh        $v0, 0xDC($s0)
.L800370F8:
/* 278F8 800370F8 00100224 */  addiu      $v0, $zero, 0x1000
/* 278FC 800370FC D80000A6 */  sh         $zero, 0xD8($s0)
/* 27900 80037100 DA0000A6 */  sh         $zero, 0xDA($s0)
/* 27904 80037104 DC0002A6 */  sh         $v0, 0xDC($s0)
.L80037108:
/* 27908 80037108 4300A78B */  lwl        $a3, 0x43($sp)
/* 2790C 8003710C 4000A79B */  lwr        $a3, 0x40($sp)
/* 27910 80037110 4400A887 */  lh         $t0, 0x44($sp)
/* 27914 80037114 230107AA */  swl        $a3, 0x123($s0)
/* 27918 80037118 200107BA */  swr        $a3, 0x120($s0)
/* 2791C 8003711C 240108A6 */  sh         $t0, 0x124($s0)
/* 27920 80037120 5FDC0008 */  j          .L8003717C
/* 27924 80037124 FFF7033C */   lui       $v1, (0xF7FFFFFF >> 16)
.L80037128:
/* 27928 80037128 2801048E */  lw         $a0, 0x128($s0)
/* 2792C 8003712C 00000000 */  nop
/* 27930 80037130 09008010 */  beqz       $a0, .L80037158
/* 27934 80037134 00000000 */   nop
/* 27938 80037138 3001068E */  lw         $a2, 0x130($s0)
/* 2793C 8003713C 5CDC0008 */  j          .L80037170
/* 27940 80037140 00000000 */   nop
.L80037144:
/* 27944 80037144 1800028E */  lw         $v0, 0x18($s0)
/* 27948 80037148 00000000 */  nop
/* 2794C 8003714C 40004230 */  andi       $v0, $v0, 0x40
/* 27950 80037150 0A004014 */  bnez       $v0, .L8003717C
/* 27954 80037154 FFF7033C */   lui       $v1, (0xF7FFFFFF >> 16)
.L80037158:
/* 27958 80037158 BC00068E */  lw         $a2, 0xBC($s0)
/* 2795C 8003715C 00000000 */  nop
/* 27960 80037160 0600C010 */  beqz       $a2, .L8003717C
/* 27964 80037164 FFF7033C */   lui       $v1, (0xF7FFFFFF >> 16)
/* 27968 80037168 B400048E */  lw         $a0, 0xB4($s0)
/* 2796C 8003716C 0000C68C */  lw         $a2, 0x0($a2)
.L80037170:
/* 27970 80037170 20D8000C */  jal        LIGHT_CalcLightValue
/* 27974 80037174 21280002 */   addu      $a1, $s0, $zero
/* 27978 80037178 FFF7033C */  lui        $v1, (0xF7FFFFFF >> 16)
.L8003717C:
/* 2797C 8003717C 1400028E */  lw         $v0, 0x14($s0)
/* 27980 80037180 FFFF6334 */  ori        $v1, $v1, (0xF7FFFFFF & 0xFFFF)
/* 27984 80037184 24104300 */  and        $v0, $v0, $v1
/* 27988 80037188 140002AE */  sw         $v0, 0x14($s0)
/* 2798C 8003718C 0800108E */  lw         $s0, 0x8($s0)
/* 27990 80037190 00000000 */  nop
/* 27994 80037194 4EFF0016 */  bnez       $s0, .L80036ED0
/* 27998 80037198 00000000 */   nop
.L8003719C:
/* 2799C 8003719C 5400BF8F */  lw         $ra, 0x54($sp)
/* 279A0 800371A0 5000B08F */  lw         $s0, 0x50($sp)
/* 279A4 800371A4 0800E003 */  jr         $ra
/* 279A8 800371A8 5800BD27 */   addiu     $sp, $sp, 0x58
.size LIGHT_CalcShadowPositions, . - LIGHT_CalcShadowPositions
