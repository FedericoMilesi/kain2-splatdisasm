.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel MONSENSE_SetupMIR
/* 76894 80086094 D8FFBD27 */  addiu      $sp, $sp, -0x28
/* 76898 80086098 1C00B3AF */  sw         $s3, 0x1C($sp)
/* 7689C 8008609C 21988000 */  addu       $s3, $a0, $zero
/* 768A0 800860A0 1400B1AF */  sw         $s1, 0x14($sp)
/* 768A4 800860A4 2188A000 */  addu       $s1, $a1, $zero
/* 768A8 800860A8 1800B2AF */  sw         $s2, 0x18($sp)
/* 768AC 800860AC 2190C000 */  addu       $s2, $a2, $zero
/* 768B0 800860B0 2400BFAF */  sw         $ra, 0x24($sp)
/* 768B4 800860B4 2000B4AF */  sw         $s4, 0x20($sp)
/* 768B8 800860B8 1000B0AF */  sw         $s0, 0x10($sp)
/* 768BC 800860BC 6C01748E */  lw         $s4, 0x16C($s3)
/* 768C0 800860C0 0000258E */  lw         $a1, 0x0($s1)
/* 768C4 800860C4 1C17020C */  jal        MONSENSE_FindIR
/* 768C8 800860C8 21208002 */   addu      $a0, $s4, $zero
/* 768CC 800860CC 21804000 */  addu       $s0, $v0, $zero
/* 768D0 800860D0 08000016 */  bnez       $s0, .L800860F4
/* 768D4 800860D4 00000000 */   nop
/* 768D8 800860D8 15004012 */  beqz       $s2, .L80086130
/* 768DC 800860DC 00000000 */   nop
/* 768E0 800860E0 0000258E */  lw         $a1, 0x0($s1)
/* 768E4 800860E4 BF17020C */  jal        MONSENSE_FirstSense
/* 768E8 800860E8 21206002 */   addu      $a0, $s3, $zero
/* 768EC 800860EC 4C180208 */  j          .L80086130
/* 768F0 800860F0 21804000 */   addu      $s0, $v0, $zero
.L800860F4:
/* 768F4 800860F4 0E004012 */  beqz       $s2, .L80086130
/* 768F8 800860F8 00000000 */   nop
/* 768FC 800860FC 9006020C */  jal        MON_GetTime
/* 76900 80086100 21206002 */   addu      $a0, $s3, $zero
/* 76904 80086104 6801838E */  lw         $v1, 0x168($s4)
/* 76908 80086108 00000000 */  nop
/* 7690C 8008610C 24006484 */  lh         $a0, 0x24($v1)
/* 76910 80086110 00000000 */  nop
/* 76914 80086114 40190400 */  sll        $v1, $a0, 5
/* 76918 80086118 23186400 */  subu       $v1, $v1, $a0
/* 7691C 8008611C 80180300 */  sll        $v1, $v1, 2
/* 76920 80086120 21186400 */  addu       $v1, $v1, $a0
/* 76924 80086124 C0180300 */  sll        $v1, $v1, 3
/* 76928 80086128 21104300 */  addu       $v0, $v0, $v1
/* 7692C 8008612C 1C0002AE */  sw         $v0, 0x1C($s0)
.L80086130:
/* 76930 80086130 DB000012 */  beqz       $s0, .L800864A0
/* 76934 80086134 00000000 */   nop
/* 76938 80086138 16000296 */  lhu        $v0, 0x16($s0)
/* 7693C 8008613C 00000000 */  nop
/* 76940 80086140 25105200 */  or         $v0, $v0, $s2
/* 76944 80086144 160002A6 */  sh         $v0, 0x16($s0)
/* 76948 80086148 04002296 */  lhu        $v0, 0x4($s1)
/* 7694C 8008614C 00000000 */  nop
/* 76950 80086150 140002A6 */  sh         $v0, 0x14($s0)
/* 76954 80086154 08002226 */  addiu      $v0, $s1, 0x8
/* 76958 80086158 08002396 */  lhu        $v1, 0x8($s1)
/* 7695C 8008615C 02004494 */  lhu        $a0, 0x2($v0)
/* 76960 80086160 04004594 */  lhu        $a1, 0x4($v0)
/* 76964 80086164 0C000226 */  addiu      $v0, $s0, 0xC
/* 76968 80086168 0C0003A6 */  sh         $v1, 0xC($s0)
/* 7696C 8008616C 020044A4 */  sh         $a0, 0x2($v0)
/* 76970 80086170 040045A4 */  sh         $a1, 0x4($v0)
/* 76974 80086174 6801828E */  lw         $v0, 0x168($s4)
/* 76978 80086178 00000000 */  nop
/* 7697C 8008617C 0800428C */  lw         $v0, 0x8($v0)
/* 76980 80086180 00000000 */  nop
/* 76984 80086184 0A004010 */  beqz       $v0, .L800861B0
/* 76988 80086188 00000000 */   nop
/* 7698C 8008618C 0A004384 */  lh         $v1, 0xA($v0)
/* 76990 80086190 14000286 */  lh         $v0, 0x14($s0)
/* 76994 80086194 00000000 */  nop
/* 76998 80086198 2A104300 */  slt        $v0, $v0, $v1
/* 7699C 8008619C 04004010 */  beqz       $v0, .L800861B0
/* 769A0 800861A0 00000000 */   nop
/* 769A4 800861A4 18000296 */  lhu        $v0, 0x18($s0)
/* 769A8 800861A8 6F180208 */  j          .L800861BC
/* 769AC 800861AC 08004234 */   ori       $v0, $v0, 0x8
.L800861B0:
/* 769B0 800861B0 18000296 */  lhu        $v0, 0x18($s0)
/* 769B4 800861B4 00000000 */  nop
/* 769B8 800861B8 F7FF4230 */  andi       $v0, $v0, 0xFFF7
.L800861BC:
/* 769BC 800861BC 180002A6 */  sh         $v0, 0x18($s0)
/* 769C0 800861C0 0400048E */  lw         $a0, 0x4($s0)
/* 769C4 800861C4 5C006526 */  addiu      $a1, $s3, 0x5C
/* 769C8 800861C8 87E8000C */  jal        MATH3D_AngleFromPosToPos
/* 769CC 800861CC 5C008424 */   addiu     $a0, $a0, 0x5C
/* 769D0 800861D0 0400038E */  lw         $v1, 0x4($s0)
/* 769D4 800861D4 00000000 */  nop
/* 769D8 800861D8 78006394 */  lhu        $v1, 0x78($v1)
/* 769DC 800861DC 00000000 */  nop
/* 769E0 800861E0 23104300 */  subu       $v0, $v0, $v1
/* 769E4 800861E4 00044224 */  addiu      $v0, $v0, 0x400
/* 769E8 800861E8 FF0F4230 */  andi       $v0, $v0, 0xFFF
/* 769EC 800861EC 01084228 */  slti       $v0, $v0, 0x801
/* 769F0 800861F0 04004014 */  bnez       $v0, .L80086204
/* 769F4 800861F4 00000000 */   nop
/* 769F8 800861F8 18000296 */  lhu        $v0, 0x18($s0)
/* 769FC 800861FC 84180208 */  j          .L80086210
/* 76A00 80086200 02004234 */   ori       $v0, $v0, 0x2
.L80086204:
/* 76A04 80086204 18000296 */  lhu        $v0, 0x18($s0)
/* 76A08 80086208 00000000 */  nop
/* 76A0C 8008620C FDFF4230 */  andi       $v0, $v0, 0xFFFD
.L80086210:
/* 76A10 80086210 180002A6 */  sh         $v0, 0x18($s0)
/* 76A14 80086214 0400048E */  lw         $a0, 0x4($s0)
/* 76A18 80086218 92D1000C */  jal        INSTANCE_Query
/* 76A1C 8008621C 0A000524 */   addiu     $a1, $zero, 0xA
/* 76A20 80086220 21884000 */  addu       $s1, $v0, $zero
/* 76A24 80086224 2000033C */  lui        $v1, (0x208000 >> 16)
/* 76A28 80086228 00806334 */  ori        $v1, $v1, (0x208000 & 0xFFFF)
/* 76A2C 8008622C 24102302 */  and        $v0, $s1, $v1
/* 76A30 80086230 05004314 */  bne        $v0, $v1, .L80086248
/* 76A34 80086234 04002232 */   andi      $v0, $s1, 0x4
/* 76A38 80086238 DFFF023C */  lui        $v0, (0xFFDFFFFF >> 16)
/* 76A3C 8008623C FFFF4234 */  ori        $v0, $v0, (0xFFDFFFFF & 0xFFFF)
/* 76A40 80086240 24882202 */  and        $s1, $s1, $v0
/* 76A44 80086244 04002232 */  andi       $v0, $s1, 0x4
.L80086248:
/* 76A48 80086248 04004010 */  beqz       $v0, .L8008625C
/* 76A4C 8008624C 00000000 */   nop
/* 76A50 80086250 18000296 */  lhu        $v0, 0x18($s0)
/* 76A54 80086254 9A180208 */  j          .L80086268
/* 76A58 80086258 01004234 */   ori       $v0, $v0, 0x1
.L8008625C:
/* 76A5C 8008625C 18000296 */  lhu        $v0, 0x18($s0)
/* 76A60 80086260 00000000 */  nop
/* 76A64 80086264 FEFF4230 */  andi       $v0, $v0, 0xFFFE
.L80086268:
/* 76A68 80086268 180002A6 */  sh         $v0, 0x18($s0)
/* 76A6C 8008626C 16000396 */  lhu        $v1, 0x16($s0)
/* 76A70 80086270 00000000 */  nop
/* 76A74 80086274 00046230 */  andi       $v0, $v1, 0x400
/* 76A78 80086278 10004010 */  beqz       $v0, .L800862BC
/* 76A7C 8008627C 2000023C */   lui       $v0, (0x200000 >> 16)
/* 76A80 80086280 24102202 */  and        $v0, $s1, $v0
/* 76A84 80086284 40004014 */  bnez       $v0, .L80086388
/* 76A88 80086288 00086230 */   andi      $v0, $v1, 0x800
/* 76A8C 8008628C FFFB6230 */  andi       $v0, $v1, 0xFBFF
/* 76A90 80086290 18000396 */  lhu        $v1, 0x18($s0)
/* 76A94 80086294 160002A6 */  sh         $v0, 0x16($s0)
/* 76A98 80086298 01004230 */  andi       $v0, $v0, 0x1
/* 76A9C 8008629C DFF76430 */  andi       $a0, $v1, 0xF7DF
/* 76AA0 800862A0 36004010 */  beqz       $v0, .L8008637C
/* 76AA4 800862A4 180004A6 */   sh        $a0, 0x18($s0)
/* 76AA8 800862A8 00046230 */  andi       $v0, $v1, 0x400
/* 76AAC 800862AC 33004014 */  bnez       $v0, .L8008637C
/* 76AB0 800862B0 04008234 */   ori       $v0, $a0, 0x4
/* 76AB4 800862B4 DF180208 */  j          .L8008637C
/* 76AB8 800862B8 180002A6 */   sh        $v0, 0x18($s0)
.L800862BC:
/* 76ABC 800862BC 24102202 */  and        $v0, $s1, $v0
/* 76AC0 800862C0 2E004010 */  beqz       $v0, .L8008637C
/* 76AC4 800862C4 00000000 */   nop
/* 76AC8 800862C8 6801828E */  lw         $v0, 0x168($s4)
/* 76ACC 800862CC 00000000 */  nop
/* 76AD0 800862D0 0800428C */  lw         $v0, 0x8($v0)
/* 76AD4 800862D4 00000000 */  nop
/* 76AD8 800862D8 28004010 */  beqz       $v0, .L8008637C
/* 76ADC 800862DC 04003232 */   andi      $s2, $s1, 0x4
/* 76AE0 800862E0 04004012 */  beqz       $s2, .L800862F4
/* 76AE4 800862E4 00000000 */   nop
/* 76AE8 800862E8 12004484 */  lh         $a0, 0x12($v0)
/* 76AEC 800862EC BE180208 */  j          .L800862F8
/* 76AF0 800862F0 00000000 */   nop
.L800862F4:
/* 76AF4 800862F4 10004484 */  lh         $a0, 0x10($v0)
.L800862F8:
/* 76AF8 800862F8 18000296 */  lhu        $v0, 0x18($s0)
/* 76AFC 800862FC 14000386 */  lh         $v1, 0x14($s0)
/* 76B00 80086300 1BFF4230 */  andi       $v0, $v0, 0xFF1B
/* 76B04 80086304 180002A6 */  sh         $v0, 0x18($s0)
/* 76B08 80086308 16000296 */  lhu        $v0, 0x16($s0)
/* 76B0C 8008630C 2A186400 */  slt        $v1, $v1, $a0
/* 76B10 80086310 00044234 */  ori        $v0, $v0, 0x400
/* 76B14 80086314 19006010 */  beqz       $v1, .L8008637C
/* 76B18 80086318 160002A6 */   sh        $v0, 0x16($s0)
/* 76B1C 8008631C 0400048E */  lw         $a0, 0x4($s0)
/* 76B20 80086320 5C006526 */  addiu      $a1, $s3, 0x5C
/* 76B24 80086324 87E8000C */  jal        MATH3D_AngleFromPosToPos
/* 76B28 80086328 5C008424 */   addiu     $a0, $a0, 0x5C
/* 76B2C 8008632C 0400038E */  lw         $v1, 0x4($s0)
/* 76B30 80086330 00000000 */  nop
/* 76B34 80086334 78006394 */  lhu        $v1, 0x78($v1)
/* 76B38 80086338 00000000 */  nop
/* 76B3C 8008633C 23104300 */  subu       $v0, $v0, $v1
/* 76B40 80086340 00024224 */  addiu      $v0, $v0, 0x200
/* 76B44 80086344 FF0F4230 */  andi       $v0, $v0, 0xFFF
/* 76B48 80086348 00084228 */  slti       $v0, $v0, 0x800
/* 76B4C 8008634C 0B004010 */  beqz       $v0, .L8008637C
/* 76B50 80086350 00000000 */   nop
/* 76B54 80086354 05004012 */  beqz       $s2, .L8008636C
/* 76B58 80086358 00000000 */   nop
/* 76B5C 8008635C 18000296 */  lhu        $v0, 0x18($s0)
/* 76B60 80086360 00000000 */  nop
/* 76B64 80086364 20004234 */  ori        $v0, $v0, 0x20
/* 76B68 80086368 180002A6 */  sh         $v0, 0x18($s0)
.L8008636C:
/* 76B6C 8008636C 18000296 */  lhu        $v0, 0x18($s0)
/* 76B70 80086370 00000000 */  nop
/* 76B74 80086374 00084234 */  ori        $v0, $v0, 0x800
/* 76B78 80086378 180002A6 */  sh         $v0, 0x18($s0)
.L8008637C:
/* 76B7C 8008637C 16000396 */  lhu        $v1, 0x16($s0)
/* 76B80 80086380 00000000 */  nop
/* 76B84 80086384 00086230 */  andi       $v0, $v1, 0x800
.L80086388:
/* 76B88 80086388 19004010 */  beqz       $v0, .L800863F0
/* 76B8C 8008638C 01000224 */   addiu     $v0, $zero, 0x1
/* 76B90 80086390 06002212 */  beq        $s1, $v0, .L800863AC
/* 76B94 80086394 FFF76330 */   andi      $v1, $v1, 0xF7FF
/* 76B98 80086398 18000296 */  lhu        $v0, 0x18($s0)
/* 76B9C 8008639C 160003A6 */  sh         $v1, 0x16($s0)
/* 76BA0 800863A0 EFFF4230 */  andi       $v0, $v0, 0xFFEF
/* 76BA4 800863A4 03190208 */  j          .L8008640C
/* 76BA8 800863A8 180002A6 */   sh        $v0, 0x18($s0)
.L800863AC:
/* 76BAC 800863AC 18000296 */  lhu        $v0, 0x18($s0)
/* 76BB0 800863B0 00000000 */  nop
/* 76BB4 800863B4 10004230 */  andi       $v0, $v0, 0x10
/* 76BB8 800863B8 14004014 */  bnez       $v0, .L8008640C
/* 76BBC 800863BC 00000000 */   nop
/* 76BC0 800863C0 9006020C */  jal        MON_GetTime
/* 76BC4 800863C4 21206002 */   addu      $a0, $s3, $zero
/* 76BC8 800863C8 2000038E */  lw         $v1, 0x20($s0)
/* 76BCC 800863CC 00000000 */  nop
/* 76BD0 800863D0 2B186200 */  sltu       $v1, $v1, $v0
/* 76BD4 800863D4 0D006010 */  beqz       $v1, .L8008640C
/* 76BD8 800863D8 00000000 */   nop
/* 76BDC 800863DC 18000296 */  lhu        $v0, 0x18($s0)
/* 76BE0 800863E0 00000000 */  nop
/* 76BE4 800863E4 10004234 */  ori        $v0, $v0, 0x10
/* 76BE8 800863E8 03190208 */  j          .L8008640C
/* 76BEC 800863EC 180002A6 */   sh        $v0, 0x18($s0)
.L800863F0:
/* 76BF0 800863F0 06002216 */  bne        $s1, $v0, .L8008640C
/* 76BF4 800863F4 21206002 */   addu      $a0, $s3, $zero
/* 76BF8 800863F8 00086234 */  ori        $v0, $v1, 0x800
/* 76BFC 800863FC 9006020C */  jal        MON_GetTime
/* 76C00 80086400 160002A6 */   sh        $v0, 0x16($s0)
/* 76C04 80086404 56134224 */  addiu      $v0, $v0, 0x1356
/* 76C08 80086408 200002AE */  sw         $v0, 0x20($s0)
.L8008640C:
/* 76C0C 8008640C 16000496 */  lhu        $a0, 0x16($s0)
/* 76C10 80086410 00000000 */  nop
/* 76C14 80086414 00028230 */  andi       $v0, $a0, 0x200
/* 76C18 80086418 15004010 */  beqz       $v0, .L80086470
/* 76C1C 8008641C 02008230 */   andi      $v0, $a0, 0x2
/* 76C20 80086420 6801828E */  lw         $v0, 0x168($s4)
/* 76C24 80086424 00000000 */  nop
/* 76C28 80086428 0800428C */  lw         $v0, 0x8($v0)
/* 76C2C 8008642C 00000000 */  nop
/* 76C30 80086430 0E004284 */  lh         $v0, 0xE($v0)
/* 76C34 80086434 14000386 */  lh         $v1, 0x14($s0)
/* 76C38 80086438 2C014224 */  addiu      $v0, $v0, 0x12C
/* 76C3C 8008643C 2A104300 */  slt        $v0, $v0, $v1
/* 76C40 80086440 08004014 */  bnez       $v0, .L80086464
/* 76C44 80086444 00000000 */   nop
/* 76C48 80086448 0400048E */  lw         $a0, 0x4($s0)
/* 76C4C 8008644C 92D1000C */  jal        INSTANCE_Query
/* 76C50 80086450 21280000 */   addu      $a1, $zero, $zero
/* 76C54 80086454 0044033C */  lui        $v1, (0x44000000 >> 16)
/* 76C58 80086458 24104300 */  and        $v0, $v0, $v1
/* 76C5C 8008645C 10004010 */  beqz       $v0, .L800864A0
/* 76C60 80086460 00000000 */   nop
.L80086464:
/* 76C64 80086464 16000296 */  lhu        $v0, 0x16($s0)
/* 76C68 80086468 27190208 */  j          .L8008649C
/* 76C6C 8008646C FFFD4230 */   andi      $v0, $v0, 0xFDFF
.L80086470:
/* 76C70 80086470 0B004010 */  beqz       $v0, .L800864A0
/* 76C74 80086474 00000000 */   nop
/* 76C78 80086478 6801828E */  lw         $v0, 0x168($s4)
/* 76C7C 8008647C 00000000 */  nop
/* 76C80 80086480 0800438C */  lw         $v1, 0x8($v0)
/* 76C84 80086484 14000286 */  lh         $v0, 0x14($s0)
/* 76C88 80086488 0E006384 */  lh         $v1, 0xE($v1)
/* 76C8C 8008648C 00000000 */  nop
/* 76C90 80086490 2A104300 */  slt        $v0, $v0, $v1
/* 76C94 80086494 02004010 */  beqz       $v0, .L800864A0
/* 76C98 80086498 00028234 */   ori       $v0, $a0, 0x200
.L8008649C:
/* 76C9C 8008649C 160002A6 */  sh         $v0, 0x16($s0)
.L800864A0:
/* 76CA0 800864A0 2400BF8F */  lw         $ra, 0x24($sp)
/* 76CA4 800864A4 2000B48F */  lw         $s4, 0x20($sp)
/* 76CA8 800864A8 1C00B38F */  lw         $s3, 0x1C($sp)
/* 76CAC 800864AC 1800B28F */  lw         $s2, 0x18($sp)
/* 76CB0 800864B0 1400B18F */  lw         $s1, 0x14($sp)
/* 76CB4 800864B4 1000B08F */  lw         $s0, 0x10($sp)
/* 76CB8 800864B8 0800E003 */  jr         $ra
/* 76CBC 800864BC 2800BD27 */   addiu     $sp, $sp, 0x28
.size MONSENSE_SetupMIR, . - MONSENSE_SetupMIR
