.set noat      /* allow manual use of $at */
.set noreorder /* don't insert nops after branches */

glabel VRAM_RearrangeVramsLayer
/* 644B8 80073CB8 B0F9BD27 */  addiu      $sp, $sp, -0x650
/* 644BC 80073CBC 4406B7AF */  sw         $s7, 0x644($sp)
/* 644C0 80073CC0 21B88000 */  addu       $s7, $a0, $zero
/* 644C4 80073CC4 3806B4AF */  sw         $s4, 0x638($sp)
/* 644C8 80073CC8 21A00000 */  addu       $s4, $zero, $zero
/* 644CC 80073CCC 08BF828F */  lw         $v0, %gp_rel(gameTrackerX + 0x140)($gp)
/* 644D0 80073CD0 0008033C */  lui        $v1, (0x8000000 >> 16)
/* 644D4 80073CD4 4806BFAF */  sw         $ra, 0x648($sp)
/* 644D8 80073CD8 4006B6AF */  sw         $s6, 0x640($sp)
/* 644DC 80073CDC 3C06B5AF */  sw         $s5, 0x63C($sp)
/* 644E0 80073CE0 3406B3AF */  sw         $s3, 0x634($sp)
/* 644E4 80073CE4 3006B2AF */  sw         $s2, 0x630($sp)
/* 644E8 80073CE8 2C06B1AF */  sw         $s1, 0x62C($sp)
/* 644EC 80073CEC 24104300 */  and        $v0, $v0, $v1
/* 644F0 80073CF0 03004010 */  beqz       $v0, .L80073D00
/* 644F4 80073CF4 2806B0AF */   sw        $s0, 0x628($sp)
/* 644F8 80073CF8 6EC0000C */  jal        GAMELOOP_Set_Pause_Redraw
/* 644FC 80073CFC 00000000 */   nop
.L80073D00:
/* 64500 80073D00 44EC908F */  lw         $s0, %gp_rel(usedVramBlocks)($gp)
/* 64504 80073D04 00000000 */  nop
/* 64508 80073D08 27000012 */  beqz       $s0, .L80073DA8
/* 6450C 80073D0C 00000000 */   nop
/* 64510 80073D10 D800A427 */  addiu      $a0, $sp, 0xD8
/* 64514 80073D14 1800A327 */  addiu      $v1, $sp, 0x18
.L80073D18:
/* 64518 80073D18 0800E016 */  bnez       $s7, .L80073D3C
/* 6451C 80073D1C 00000000 */   nop
/* 64520 80073D20 0E000286 */  lh         $v0, 0xE($s0)
/* 64524 80073D24 00000000 */  nop
/* 64528 80073D28 00014228 */  slti       $v0, $v0, 0x100
/* 6452C 80073D2C 1A004010 */  beqz       $v0, .L80073D98
/* 64530 80073D30 00000000 */   nop
/* 64534 80073D34 55CF0108 */  j          .L80073D54
/* 64538 80073D38 000070AC */   sw        $s0, 0x0($v1)
.L80073D3C:
/* 6453C 80073D3C 0E000286 */  lh         $v0, 0xE($s0)
/* 64540 80073D40 00000000 */  nop
/* 64544 80073D44 00014228 */  slti       $v0, $v0, 0x100
/* 64548 80073D48 13004014 */  bnez       $v0, .L80073D98
/* 6454C 80073D4C 00000000 */   nop
/* 64550 80073D50 000070AC */  sw         $s0, 0x0($v1)
.L80073D54:
/* 64554 80073D54 0000088E */  lw         $t0, 0x0($s0)
/* 64558 80073D58 0400098E */  lw         $t1, 0x4($s0)
/* 6455C 80073D5C 08000A8E */  lw         $t2, 0x8($s0)
/* 64560 80073D60 0C000B8E */  lw         $t3, 0xC($s0)
/* 64564 80073D64 000088AC */  sw         $t0, 0x0($a0)
/* 64568 80073D68 040089AC */  sw         $t1, 0x4($a0)
/* 6456C 80073D6C 08008AAC */  sw         $t2, 0x8($a0)
/* 64570 80073D70 0C008BAC */  sw         $t3, 0xC($a0)
/* 64574 80073D74 1000088E */  lw         $t0, 0x10($s0)
/* 64578 80073D78 1400098E */  lw         $t1, 0x14($s0)
/* 6457C 80073D7C 18000A8E */  lw         $t2, 0x18($s0)
/* 64580 80073D80 100088AC */  sw         $t0, 0x10($a0)
/* 64584 80073D84 140089AC */  sw         $t1, 0x14($a0)
/* 64588 80073D88 18008AAC */  sw         $t2, 0x18($a0)
/* 6458C 80073D8C 1C008424 */  addiu      $a0, $a0, 0x1C
/* 64590 80073D90 04006324 */  addiu      $v1, $v1, 0x4
/* 64594 80073D94 01009426 */  addiu      $s4, $s4, 0x1
.L80073D98:
/* 64598 80073D98 0000108E */  lw         $s0, 0x0($s0)
/* 6459C 80073D9C 00000000 */  nop
/* 645A0 80073DA0 DDFF0016 */  bnez       $s0, .L80073D18
/* 645A4 80073DA4 00000000 */   nop
.L80073DA8:
/* 645A8 80073DA8 A400801A */  blez       $s4, .L8007403C
/* 645AC 80073DAC 00000000 */   nop
/* 645B0 80073DB0 0800E016 */  bnez       $s7, .L80073DD4
/* 645B4 80073DB4 00011624 */   addiu     $s6, $zero, 0x100
/* 645B8 80073DB8 21B00000 */  addu       $s6, $zero, $zero
/* 645BC 80073DBC 00020224 */  addiu      $v0, $zero, 0x200
/* 645C0 80073DC0 1806A2A7 */  sh         $v0, 0x618($sp)
/* 645C4 80073DC4 1C06A2A7 */  sh         $v0, 0x61C($sp)
/* 645C8 80073DC8 00010224 */  addiu      $v0, $zero, 0x100
/* 645CC 80073DCC 7ACF0108 */  j          .L80073DE8
/* 645D0 80073DD0 1A06A0A7 */   sh        $zero, 0x61A($sp)
.L80073DD4:
/* 645D4 80073DD4 00020324 */  addiu      $v1, $zero, 0x200
/* 645D8 80073DD8 2110C002 */  addu       $v0, $s6, $zero
/* 645DC 80073DDC 1806A3A7 */  sh         $v1, 0x618($sp)
/* 645E0 80073DE0 1A06A2A7 */  sh         $v0, 0x61A($sp)
/* 645E4 80073DE4 1C06A3A7 */  sh         $v1, 0x61C($sp)
.L80073DE8:
/* 645E8 80073DE8 1E06A2A7 */  sh         $v0, 0x61E($sp)
.L80073DEC:
/* 645EC 80073DEC E4BE848F */  lw         $a0, %gp_rel(gameTrackerX + 0x11C)($gp)
/* 645F0 80073DF0 8494000C */  jal        func_80025210
/* 645F4 80073DF4 00000000 */   nop
/* 645F8 80073DF8 FCFF4014 */  bnez       $v0, .L80073DEC
/* 645FC 80073DFC 00000000 */   nop
/* 64600 80073E00 E0BE848F */  lw         $a0, %gp_rel(gameTrackerX + 0x118)($gp)
/* 64604 80073E04 8494000C */  jal        func_80025210
/* 64608 80073E08 00000000 */   nop
/* 6460C 80073E0C F7FF4014 */  bnez       $v0, .L80073DEC
/* 64610 80073E10 21280000 */   addu      $a1, $zero, $zero
/* 64614 80073E14 CCBD868F */  lw         $a2, %gp_rel(gameTrackerX + 0x4)($gp)
/* 64618 80073E18 2198A000 */  addu       $s3, $a1, $zero
/* 6461C 80073E1C 2190A000 */  addu       $s2, $a1, $zero
/* 64620 80073E20 0100C638 */  xori       $a2, $a2, 0x1
/* 64624 80073E24 00AA0600 */  sll        $s5, $a2, 8
/* 64628 80073E28 1806A427 */  addiu      $a0, $sp, 0x618
/* 6462C 80073E2C 00360600 */  sll        $a2, $a2, 24
/* 64630 80073E30 ACE9020C */  jal        func_800BA6B0
/* 64634 80073E34 03340600 */   sra       $a2, $a2, 16
/* 64638 80073E38 0FE9020C */  jal        func_800BA43C
/* 6463C 80073E3C 21200000 */   addu      $a0, $zero, $zero
/* 64640 80073E40 1400801A */  blez       $s4, .L80073E94
/* 64644 80073E44 1800B127 */   addiu     $s1, $sp, 0x18
/* 64648 80073E48 D800B027 */  addiu      $s0, $sp, 0xD8
.L80073E4C:
/* 6464C 80073E4C 0000248E */  lw         $a0, 0x0($s1)
/* 64650 80073E50 8FCE010C */  jal        VRAM_ClearVramBlock
/* 64654 80073E54 04003126 */   addiu     $s1, $s1, 0x4
/* 64658 80073E58 10000386 */  lh         $v1, 0x10($s0)
/* 6465C 80073E5C 12000286 */  lh         $v0, 0x12($s0)
/* 64660 80073E60 00000000 */  nop
/* 64664 80073E64 18006200 */  mult       $v1, $v0
/* 64668 80073E68 01007326 */  addiu      $s3, $s3, 0x1
/* 6466C 80073E6C 21204002 */  addu       $a0, $s2, $zero
/* 64670 80073E70 21280002 */  addu       $a1, $s0, $zero
/* 64674 80073E74 000000AE */  sw         $zero, 0x0($s0)
/* 64678 80073E78 12400000 */  mflo       $t0
/* 6467C 80073E7C 17CF010C */  jal        VRAM_InsertionSort
/* 64680 80073E80 140008AE */   sw        $t0, 0x14($s0)
/* 64684 80073E84 21904000 */  addu       $s2, $v0, $zero
/* 64688 80073E88 2A107402 */  slt        $v0, $s3, $s4
/* 6468C 80073E8C EFFF4014 */  bnez       $v0, .L80073E4C
/* 64690 80073E90 1C001026 */   addiu     $s0, $s0, 0x1C
.L80073E94:
/* 64694 80073E94 21884002 */  addu       $s1, $s2, $zero
/* 64698 80073E98 68002012 */  beqz       $s1, .L8007403C
/* 6469C 80073E9C 00000000 */   nop
.L80073EA0:
/* 646A0 80073EA0 0C002296 */  lhu        $v0, 0xC($s1)
/* 646A4 80073EA4 00000000 */  nop
/* 646A8 80073EA8 1806A2A7 */  sh         $v0, 0x618($sp)
/* 646AC 80073EAC 0E002496 */  lhu        $a0, 0xE($s1)
/* 646B0 80073EB0 00000000 */  nop
/* 646B4 80073EB4 1A06A4A7 */  sh         $a0, 0x61A($sp)
/* 646B8 80073EB8 10002396 */  lhu        $v1, 0x10($s1)
/* 646BC 80073EBC 00000000 */  nop
/* 646C0 80073EC0 1C06A3A7 */  sh         $v1, 0x61C($sp)
/* 646C4 80073EC4 12002396 */  lhu        $v1, 0x12($s1)
/* 646C8 80073EC8 00FE4224 */  addiu      $v0, $v0, -0x200
/* 646CC 80073ECC 1806A2A7 */  sh         $v0, 0x618($sp)
/* 646D0 80073ED0 0300E016 */  bnez       $s7, .L80073EE0
/* 646D4 80073ED4 1E06A3A7 */   sh        $v1, 0x61E($sp)
/* 646D8 80073ED8 BACF0108 */  j          .L80073EE8
/* 646DC 80073EDC 21109500 */   addu      $v0, $a0, $s5
.L80073EE0:
/* 646E0 80073EE0 00FFA226 */  addiu      $v0, $s5, -0x100
/* 646E4 80073EE4 21108200 */  addu       $v0, $a0, $v0
.L80073EE8:
/* 646E8 80073EE8 1A06A2A7 */  sh         $v0, 0x61A($sp)
/* 646EC 80073EEC 2006A427 */  addiu      $a0, $sp, 0x620
/* 646F0 80073EF0 1C06A687 */  lh         $a2, 0x61C($sp)
/* 646F4 80073EF4 0C002396 */  lhu        $v1, 0xC($s1)
/* 646F8 80073EF8 1E06A787 */  lh         $a3, 0x61E($sp)
/* 646FC 80073EFC 0E002296 */  lhu        $v0, 0xE($s1)
/* 64700 80073F00 2206A527 */  addiu      $a1, $sp, 0x622
/* 64704 80073F04 2206A2A7 */  sh         $v0, 0x622($sp)
/* 64708 80073F08 00141600 */  sll        $v0, $s6, 16
/* 6470C 80073F0C 2006A3A7 */  sh         $v1, 0x620($sp)
/* 64710 80073F10 04002392 */  lbu        $v1, 0x4($s1)
/* 64714 80073F14 03140200 */  sra        $v0, $v0, 16
/* 64718 80073F18 1400A2AF */  sw         $v0, 0x14($sp)
/* 6471C 80073F1C 80CD010C */  jal        VRAM_CheckVramSlot
/* 64720 80073F20 1000A3AF */   sw        $v1, 0x10($sp)
/* 64724 80073F24 21804000 */  addu       $s0, $v0, $zero
/* 64728 80073F28 05000016 */  bnez       $s0, .L80073F40
/* 6472C 80073F2C 00000000 */   nop
/* 64730 80073F30 93CB010C */  jal        VRAM_PrintInfo
/* 64734 80073F34 00000000 */   nop
/* 64738 80073F38 91CB010C */  jal        VRAM_PrintVramBlock
/* 6473C 80073F3C 21202002 */   addu      $a0, $s1, $zero
.L80073F40:
/* 64740 80073F40 2006A587 */  lh         $a1, 0x620($sp)
/* 64744 80073F44 2206A687 */  lh         $a2, 0x622($sp)
/* 64748 80073F48 ACE9020C */  jal        func_800BA6B0
/* 6474C 80073F4C 1806A427 */   addiu     $a0, $sp, 0x618
/* 64750 80073F50 0FE9020C */  jal        func_800BA43C
/* 64754 80073F54 21200000 */   addu      $a0, $zero, $zero
/* 64758 80073F58 04002392 */  lbu        $v1, 0x4($s1)
/* 6475C 80073F5C 02000224 */  addiu      $v0, $zero, 0x2
/* 64760 80073F60 07006210 */  beq        $v1, $v0, .L80073F80
/* 64764 80073F64 03006228 */   slti      $v0, $v1, 0x3
/* 64768 80073F68 30004014 */  bnez       $v0, .L8007402C
/* 6476C 80073F6C 03000224 */   addiu     $v0, $zero, 0x3
/* 64770 80073F70 11006210 */  beq        $v1, $v0, .L80073FB8
/* 64774 80073F74 00000000 */   nop
/* 64778 80073F78 0BD00108 */  j          .L8007402C
/* 6477C 80073F7C 00000000 */   nop
.L80073F80:
/* 64780 80073F80 0C002486 */  lh         $a0, 0xC($s1)
/* 64784 80073F84 0E002586 */  lh         $a1, 0xE($s1)
/* 64788 80073F88 2006A687 */  lh         $a2, 0x620($sp)
/* 6478C 80073F8C 1800228E */  lw         $v0, 0x18($s1)
/* 64790 80073F90 2206A787 */  lh         $a3, 0x622($sp)
/* 64794 80073F94 1000428C */  lw         $v0, 0x10($v0)
/* 64798 80073F98 9CCE010C */  jal        AdjustVramCoordsObject
/* 6479C 80073F9C 1000A2AF */   sw        $v0, 0x10($sp)
/* 647A0 80073FA0 1800228E */  lw         $v0, 0x18($s1)
/* 647A4 80073FA4 00000000 */  nop
/* 647A8 80073FA8 180050AC */  sw         $s0, 0x18($v0)
/* 647AC 80073FAC 1800228E */  lw         $v0, 0x18($s1)
/* 647B0 80073FB0 0BD00108 */  j          .L8007402C
/* 647B4 80073FB4 180002AE */   sw        $v0, 0x18($s0)
.L80073FB8:
/* 647B8 80073FB8 2206A497 */  lhu        $a0, 0x622($sp)
/* 647BC 80073FBC 2006A597 */  lhu        $a1, 0x620($sp)
/* 647C0 80073FC0 00018330 */  andi       $v1, $a0, 0x100
/* 647C4 80073FC4 001C0300 */  sll        $v1, $v1, 16
/* 647C8 80073FC8 031D0300 */  sra        $v1, $v1, 20
/* 647CC 80073FCC FF03A230 */  andi       $v0, $a1, 0x3FF
/* 647D0 80073FD0 82110200 */  srl        $v0, $v0, 6
/* 647D4 80073FD4 25186200 */  or         $v1, $v1, $v0
/* 647D8 80073FD8 00028230 */  andi       $v0, $a0, 0x200
/* 647DC 80073FDC 80100200 */  sll        $v0, $v0, 2
/* 647E0 80073FE0 25186200 */  or         $v1, $v1, $v0
/* 647E4 80073FE4 3F00A230 */  andi       $v0, $a1, 0x3F
/* 647E8 80073FE8 80100200 */  sll        $v0, $v0, 2
/* 647EC 80073FEC FCB982A7 */  sh         $v0, %gp_rel(fontTracker + 0x610)($gp)
/* 647F0 80073FF0 FF008230 */  andi       $v0, $a0, 0xFF
/* 647F4 80073FF4 FEB982A7 */  sh         $v0, %gp_rel(fontTracker + 0x612)($gp)
/* 647F8 80073FF8 7E008224 */  addiu      $v0, $a0, 0x7E
/* 647FC 80073FFC 80110200 */  sll        $v0, $v0, 6
/* 64800 80074000 04BA85A7 */  sh         $a1, %gp_rel(fontTracker + 0x618)($gp)
/* 64804 80074004 02290500 */  srl        $a1, $a1, 4
/* 64808 80074008 3F00A530 */  andi       $a1, $a1, 0x3F
/* 6480C 8007400C 25104500 */  or         $v0, $v0, $a1
/* 64810 80074010 06BA84A7 */  sh         $a0, %gp_rel(fontTracker + 0x61A)($gp)
/* 64814 80074014 7F008424 */  addiu      $a0, $a0, 0x7F
/* 64818 80074018 80210400 */  sll        $a0, $a0, 6
/* 6481C 8007401C 25208500 */  or         $a0, $a0, $a1
/* 64820 80074020 F8B983A7 */  sh         $v1, %gp_rel(fontTracker + 0x60C)($gp)
/* 64824 80074024 FAB982A7 */  sh         $v0, %gp_rel(fontTracker + 0x60E)($gp)
/* 64828 80074028 E8B384A7 */  sh         $a0, %gp_rel(SpecialFogClut)($gp)
.L8007402C:
/* 6482C 8007402C 0000318E */  lw         $s1, 0x0($s1)
/* 64830 80074030 00000000 */  nop
/* 64834 80074034 9AFF2016 */  bnez       $s1, .L80073EA0
/* 64838 80074038 00000000 */   nop
.L8007403C:
/* 6483C 8007403C 0FE9020C */  jal        func_800BA43C
/* 64840 80074040 21200000 */   addu      $a0, $zero, $zero
/* 64844 80074044 4806BF8F */  lw         $ra, 0x648($sp)
/* 64848 80074048 4406B78F */  lw         $s7, 0x644($sp)
/* 6484C 8007404C 4006B68F */  lw         $s6, 0x640($sp)
/* 64850 80074050 3C06B58F */  lw         $s5, 0x63C($sp)
/* 64854 80074054 3806B48F */  lw         $s4, 0x638($sp)
/* 64858 80074058 3406B38F */  lw         $s3, 0x634($sp)
/* 6485C 8007405C 3006B28F */  lw         $s2, 0x630($sp)
/* 64860 80074060 2C06B18F */  lw         $s1, 0x62C($sp)
/* 64864 80074064 2806B08F */  lw         $s0, 0x628($sp)
/* 64868 80074068 0800E003 */  jr         $ra
/* 6486C 8007406C 5006BD27 */   addiu     $sp, $sp, 0x650
.size VRAM_RearrangeVramsLayer, . - VRAM_RearrangeVramsLayer
